!function(t,e,a){"use strict";function i(t,e,a,i){var o,r,n,c,l,d,s,p,m;return Number.isFinite(parseFloat(t))||(t=0),t*=1e4,e&&(o=e.attr("data-taxable"),r=e.attr("data-tax-rate"),n=e.attr("data-prices-include-tax"),c=e.attr("data-is-vat-exempt"),l=e.attr("data-non-base-location-prices"),d=e.attr("data-taxes-of-one"),s=e.attr("data-base-taxes-of-one"),p=e.attr("data-modded-taxes-of-one"),void 0!==e.data("current_variation")&&(o=(m=e.data("current_variation")).tc_is_taxable,r=m.tc_tax_rate,l=m.tc_non_base_location_prices,d=m.tc_taxes_of_one,s=m.tc_base_taxes_of_one,p=m.tc_modded_taxes_of_one),a&&a.data("tax-obj")&&("no"===(r=a.data("tax-obj")).has_fee?o=!1:"yes"===r.has_fee&&(o=!0),r=r.tax_rate),o&&("1"!==n||i?t=parseFloat(t)*(1+r/100):"1"===c?t="1"===l?parseFloat(t)-d*t:parseFloat(t)-s*t:"1"===l&&(t=parseFloat(t)-s*t+p*t))),t/=1e4}function o(t,e,a,i){var o,r,n,c,l;return Number.isFinite(parseFloat(t))||(t=0),t*=1e4,e&&(o=e.attr("data-taxable"),r=e.attr("data-tax-rate"),n=e.attr("data-base-taxes-of-one"),c=e.attr("data-prices-include-tax"),void 0!==e.data("current_variation")&&(o=(l=e.data("current_variation")).tc_is_taxable,r=l.tc_tax_rate,n=l.tc_base_taxes_of_one),a&&a.data("tax-obj")&&("no"===(r=a.data("tax-obj")).has_fee?o=!1:"yes"===r.has_fee&&(o=!0),r=r.tax_rate),(o&&"1"===c||i)&&(t=parseFloat(t)-parseFloat(n*t))),t/=1e4}function r(t,e,a){return Number.isFinite(parseFloat(t))||(t=0),e&&(t="incl"===e.attr("data-tax-display-mode")?i(t,e,a):o(t,e,a)),t}function n(t,e,i){return e+a.epoAPI.math.format(t,{symbol:Ht.currency_format_symbol,decimal:Bt.localDecimalSeparator,thousand:Bt.localThousandSeparator,precision:Ht.currency_format_num_decimals,format:Ht.currency_format})+i}function c(t,e,a,i,o){var c,l="",d=Ht.plus_sign+" ";return a||(t=r(t,e,o)),c=Math.abs(t),"minus"===Ht.tm_epo_global_options_price_sign&&(d=""),t<0&&(d=Ht.minus_sign+" "),e&&i&&(l=e.attr("data-tax-string")),void 0===l&&(l=""),n(c,d,l)}function l(t){var e,i,o,r=a(t);if(0!==r.length){if(r.is(".cpf-section"))return t.find(".tm-epo-field");if(e=r.attr("data-uniqid"),i=r.closest(".tc-extra-product-options").attr("data-epo-id"),Bt.getElementFromFieldCache&&Bt.getElementFromFieldCache[i]&&Bt.getElementFromFieldCache[i][e])return Bt.getElementFromFieldCache[i][e];if((o=r.attr("class").split(" ").map(function(t){if(-1!==t.indexOf("cpf-type-",0))return t}).filter(function(t){if(null!==t&&void 0!==t)return t})).length>0)switch(o=o[0]){case"cpf-type-radio":return Bt.getElementFromFieldCache[i]=[],Bt.getElementFromFieldCache[i][e]=r.find(".tm-epo-field.tmcp-radio"),Bt.getElementFromFieldCache[i][e];case"cpf-type-checkbox":return Bt.getElementFromFieldCache[i]=[],Bt.getElementFromFieldCache[i][e]=r.find(".tm-epo-field.tmcp-checkbox"),Bt.getElementFromFieldCache[i][e];case"cpf-type-select":return Bt.getElementFromFieldCache[i]=[],Bt.getElementFromFieldCache[i][e]=r.find(".tm-epo-field.tmcp-select"),Bt.getElementFromFieldCache[i][e];case"cpf-type-textarea":return Bt.getElementFromFieldCache[i]=[],Bt.getElementFromFieldCache[i][e]=r.find(".tm-epo-field.tmcp-textarea"),Bt.getElementFromFieldCache[i][e];case"cpf-type-textfield":return Bt.getElementFromFieldCache[i]=[],Bt.getElementFromFieldCache[i][e]=r.find(".tm-epo-field.tmcp-textfield"),Bt.getElementFromFieldCache[i][e];case"cpf-type-color":return Bt.getElementFromFieldCache[i]=[],Bt.getElementFromFieldCache[i][e]=r.find(".tm-epo-field.tm-color-picker"),Bt.getElementFromFieldCache[i][e];case"cpf-type-range":return Bt.getElementFromFieldCache[i]=[],Bt.getElementFromFieldCache[i][e]=r.find(".tm-epo-field.tmcp-range"),Bt.getElementFromFieldCache[i][e];case"cpf-type-date":return Bt.getElementFromFieldCache[i]=[],Bt.getElementFromFieldCache[i][e]=r.find(".tm-epo-field.tmcp-date"),Bt.getElementFromFieldCache[i][e];case"cpf-type-variations":return Bt.getElementFromFieldCache[i]=[],Bt.getElementFromFieldCache[i][e]=r.closest(".cpf-section").find(".tm-epo-field.tm-epo-variation-element"),Bt.getElementFromFieldCache[i][e]}else;}}function d(t){var e="input[name^='variation_id']";return t.find("input.variation_id").length>0&&(e="input.variation_id"),e}function s(t,e){var a=d(t),i=t.find(a);return e&&(i=i.not(e)),i}function p(t){return t.find(d(t)).val()||0}function m(t){return t.find(Bt.qtySelector).last()}function _(t){return parseFloat(m(t).val())}function f(t,e,a){Wt[Wt.length]={name:t,selector:e,func:a}}function u(t,e){var i;return i=a(t).is(".cpf_hide_element")?a(t):a(t).closest(".cpf_hide_element"),!1!==a(i).data("isactive")&&!1!==a(i).closest(".cpf-section").data("isactive")?(a(t).prop("disabled",!1),"yes"!==Ht.tm_epo_show_only_active_quantities?a(t).is(":radio")?a(t).is(":checked")?i.find(".tm-qty").prop("disabled",!1):i.find(".tm-qty").prop("disabled",!0):a(t).is("select")?a(t).val()?i.find(".tm-qty").prop("disabled",!1):i.find(".tm-qty").prop("disabled",!0):i.find(".tm-qty").prop("disabled",!1):e||i.find(".tm-quantity").trigger("showhide.cpfcustom"),a(t).is(".cpf_hide_element")||(a(t).removeClass("tcdisabled").addClass("tcenabled"),a(t).is(".tmcp-upload")&&a(t).next(".tmcp-upload-hidden").length&&a(t).next(".tmcp-upload-hidden").removeClass("tcdisabled").addClass("tcenabled").prop("disabled",!1)),a(t).trigger({type:"tm-field-is-active",field:t,value:!0}),!0):(a(t).is(".cpf_hide_element")||(a(t).prop("disabled",!0),a(t).removeClass("tcenabled").addClass("tcdisabled"),i.find(".tm-qty").prop("disabled",!0),a(t).is(".tmcp-upload")&&a(t).next(".tmcp-upload-hidden").length&&a(t).next(".tmcp-upload-hidden").removeClass("tcenabled").addClass("tcdisabled").prop("disabled",!0)),a(t).trigger({type:"tm-field-is-active",field:t,value:!1}),!1)}function g(t,e,i){var o,r=a(t).closest(".variations_form"),n="input[name^='variation_id']";switch(r.find("input.variation_id").length>0&&(n="input.variation_id"),null!==t&&null!==e&&void 0!==t&&void 0!==e&&!1!==t&&!1!==e&&(e=e?parseInt(e,10):-1),o=parseInt(r.find(n).val(),10),Number.isFinite(o)||(o=""),Number.isFinite(e)||(e=""),i){case"is":return""!==o&&o===e;case"isnot":return""!==o&&o!==e;case"isempty":return""===o||0===o;case"isnotempty":return""!==o&&0!==o;case"startswith":return o.toString().startsWith(e);case"endswith":return o.toString().endsWith(e);case"greaterthan":return parseFloat(o)>parseFloat(e);case"lessthan":return parseFloat(o)<parseFloat(e)}return!1}function h(t,e,i){if(null===t||null===e)return!1;switch(t=encodeURIComponent(t),e=a.qtranxj_split?encodeURIComponent(a.qtranxj_split(decodeURIComponent(e))[Mt.language]):encodeURIComponent(decodeURIComponent(e)),t=t?t.toLowerCase():"",e=e?e.toLowerCase():"",t=t.toString(),e=e.toString(),i){case"is":return null!==t&&t===e;case"isnot":return null!==t&&t!==e;case"isempty":return!(void 0!==t&&""!==t);case"isnotempty":return void 0!==t&&""!==t;case"startswith":return t.startsWith(e);case"endswith":return t.endsWith(e);case"greaterthan":return parseFloat(t)>parseFloat(e);case"lessthan":return parseFloat(t)<parseFloat(e)}return!1}function v(t,e){var i,o,r,n,c,l,d,s=!0,p=t.find(".cpf_hide_element");return a(p).each(function(t,p){var m;if(p=a(p),u(p))if((m=p.attr("class").split(" ").map(function(t){if(-1!==t.indexOf("cpf-type-",0))return t}).filter(function(t){if(null!==t&&void 0!==t)return t})).length>0){switch(m=m[0]){case"cpf-type-radio":o=p.find("input.tm-epo-field.tmcp-radio:checked"),"isnotempty"===e?s=s&&o.length>0:"isempty"===e&&(s=s&&0===o.length);break;case"cpf-type-checkbox":r=p.find("input.tm-epo-field.tmcp-checkbox:checked"),"isnotempty"===e?s=s&&r.length>0:"isempty"===e&&(s=s&&0===r.length);break;case"cpf-type-select":n=p.find("select.tm-epo-field.tmcp-select").children("option"),c=p.find("select.tm-epo-field.tmcp-select").children("option:selected"),l=n.index(c),""===n.eq(0).val()&&""===n.eq(0).attr("data-rulestype")&&(l-=1),d=(d="_"+l).length,(i=p.find("select.tm-epo-field.tmcp-select").val())&&(i=i.slice(0,-d));break;case"cpf-type-textarea":i=p.find("textarea.tm-epo-field.tmcp-textarea").val();break;case"cpf-type-textfield":i=p.find("input.tm-epo-field.tmcp-textfield").val();break;case"cpf-type-color":i=p.find("input.tm-epo-field.tm-color-picker").val();break;case"cpf-type-range":i=p.find("input.tm-epo-field.tmcp-range").val()}s=s&&h(i,"",e)}else s=s&&!1}),s}function y(t){var e,i,o,r,n,c,l,d,s,p,m,_=a(t.element),f=t.operator,u=t.value;if(!_.length)return!1;if(_.is(".cpf-section"))return v(_,f);if((m=_.attr("class").split(" ").map(function(t){if(-1!==t.indexOf("cpf-type-",0))return t}).filter(function(t){if(null!==t&&void 0!==t)return t})).length>0){switch(m=m[0]){case"cpf-type-radio":if(r=_.find("input.tm-epo-field.tmcp-radio"),n=_.find("input.tm-epo-field.tmcp-radio:checked"),"is"===f||"isnot"===f){if(0===n.length)return!1;i=r.index(n),o=(o="_"+i).length,(e=_.find("input.tm-epo-field.tmcp-radio:checked").val())&&(e=e.slice(0,-o))}if("isnotempty"===f)return n.length>0;if("isempty"===f)return 0===n.length;break;case"cpf-type-checkbox":if(c=_.find("input.tm-epo-field.tmcp-checkbox"),l=_.find("input.tm-epo-field.tmcp-checkbox:checked"),"is"===f||"isnot"===f)return 0!==l.length&&(d=!1,l.each(function(t,r){if(i=c.index(a(r)),o="_"+i,o=o.length,(e=a(r).val())&&(e=e.slice(0,-o)),h(e,u,f))d=!0;else if("isnot"===f)return d=!1,!1}),d);if("isnotempty"===f)return l.length>0;if("isempty"===f)return 0===l.length;break;case"cpf-type-select":s=_.find("select.tm-epo-field.tmcp-select").children("option"),p=_.find("select.tm-epo-field.tmcp-select").children("option:selected"),i=s.index(p),""===s.eq(0).val()&&""===s.eq(0).attr("data-rulestype")&&(i-=1),o=(o="_"+i).length,(e=_.find("select.tm-epo-field.tmcp-select").val())&&(e=e.slice(0,-o));break;case"cpf-type-textarea":e=_.find("textarea.tm-epo-field.tmcp-textarea").val();break;case"cpf-type-textfield":e=_.find("input.tm-epo-field.tmcp-textfield").val();break;case"cpf-type-color":e=_.find("input.tm-epo-field.tm-color-picker").val();break;case"cpf-type-range":e=_.find("input.tm-epo-field.tmcp-range").val();break;case"cpf-type-variations":return g(_,u,f)}return h(e,u,f)}return!1}function b(t,e){t.each(function(){var t=a(this),i=parseInt(t.data("matches"),10),o=t.data("toggle"),r=t.data("what"),n=t.data("fields"),c=0,l=!1;switch(o){case"show":l=!1;break;case"hide":l=!0}a.each(n,function(t,i){var o=!0;"cpflogic"===e&&(o=u(a(i.element))),o&&y(i)&&(c=parseInt(c,10)+1)}),"all"===r?i===c&&(l=!l):c>0&&(l=!l),l?("cpflogic"===e&&t.find(".tm-epo-field").each(function(e,i){!u(i=a(i))||i.data("initial_activation")||t.closest(".cpf-section").is(".tc-hidden")||(i.trigger("tc_element_epo_rules"),i.data("initial_activation",1))}),t.removeClass("tc-hidden")):t.addClass("tc-hidden"),t.data("isactive",l)})}function w(t){var e,i=[];a(t).length||(t="body"),(e=(t=a(t)).find(".iscpfdependson")).each(function(t,e){a(e).each(function(t,e){b(a(e))})}),e.each(function(t,e){a(e).each(function(t,e){b(a(e),"cpflogic")})}),e.each(function(t,e){a(e).each(function(t,e){(e=a(e)).is(".cpf-section")&&(e=e.find(".cpf_hide_element")),e.each(function(t,e){u(a(e).find(".tm-epo-field"))})})}),a().selectric&&a(".tm-extra-product-options select").selectric("refresh"),setTimeout(function(){a(".tm-owl-slider").each(function(){a(this).trigger("refresh.owl.carousel")})},200),t.find(".tm-product-image:checked,select.tm-product-image").each(function(){var t=a(this);u(t)&&""!==t.val()&&i.push(t)}),i.length&&i[i.length-1].trigger("tm_trigger_product_image"),Gt.trigger("cpflogicrun"),Gt.trigger("tmlazy"),Gt.trigger("cpflogicdone")}function k(t){return"object"==typeof t&&"toggle"in t&&"what"in t&&"rules"in t&&t.rules.length>0}function x(t){var e,i,o,r,n,c,l,d,s,p,m,_,f=a(t),u=f.find(".cpf-section");e=!f.is(".cpf-section")&&u,f.each(function(t,u){(i=a(u).is(".cpf-section")?a(u):a(u).find(".cpf-section")).each(function(t,i){o=a(i),r=o.data("logic"),n=parseInt(o.data("haslogic"),10),c=[],1===n&&k(r)&&(a.each(r.rules,function(t,a){a&&(l=a.section,d=a.element,s=a.operator,p=a.value,e?(m=e.filter("[data-uniqid='"+l+"']"),_=d!==l?m.find(".cpf_hide_element").eq(d):m):_=d!==l?f.find(".cpf_hide_element").eq(d):m,c.push({element:_,operator:s,value:p}))}),o.data("iscpfdependson")?o.cpfdependson(o.data("cpfdependson-fields"),r.toggle,r.what,!0):(o.data("cpfdependson-fields",c),o.cpfdependson(c,r.toggle,r.what)))})})}function F(t){var e,i,o,r,n,c,l,d,s,p,m=a(t),_=m.find(".cpf-section");e=!m.is(".cpf-section")&&_,m.find(".cpf_hide_element").each(function(t,_){var f=[];i=a(_),o=i.data("logic"),1===(r=parseInt(i.data("haslogic"),10))&&k(o)&&(a.each(o.rules,function(t,a){a&&(n=a.section,c=a.element,l=a.operator,d=a.value,e?(s=e.filter("[data-uniqid='"+n+"']"),p=c!==n?s.find(".cpf_hide_element").eq(c):s):p=c!==n?m.find(".cpf_hide_element").eq(c):s,f.push({element:p,operator:l,value:d}))}),i.data("iscpfdependson")?i.cpfdependson(i.data("cpfdependson-fields"),o.toggle,o.what,!0):(i.data("cpfdependson-fields",f),i.cpfdependson(f,o.toggle,o.what)))})}function C(t,e){var a,i,o,r;return e&&(a=e.attr("data-taxable"),i=e.attr("data-tax-rate"),o=e.attr("data-tax-display-mode"),r=e.attr("data-prices-include-tax"),a&&"incl"===o&&"1"!==r&&(t=parseFloat(t)/(1+i/100))),t}function I(t,e,a,i,o){var c,l="",d="";return a||(t=r(t,e,o)),c=Math.abs(t),e&&i&&(l=e.attr("data-tax-string")),void 0===l&&(l=""),t<0&&(d=Ht.minus_sign+" "),n(c,d,l)}function A(t,e,i,o,r){var n,c,l,d,s=a(t);0!==s.length&&(e=a.epoAPI.applyFilter("tc_adjust_update_price_price",e),i=a.epoAPI.applyFilter("tc_adjust_update_price_formated_price",i,e),o=a.epoAPI.applyFilter("tc_adjust_update_price_original_price",o),r=a.epoAPI.applyFilter("tc_adjust_update_price_original_formated_price",r,o),Number.isFinite(parseFloat(o))||(o=0),Number.isFinite(parseFloat(e))||(e=0),c=(n=s.closest(".tmcp-field-wrap")).find(".before-amount,.after-amount"),l={price:i,original_price:r},"yes"===Ht.tm_epo_auto_hide_price_if_zero&&!1===a.tmempty(e)||"yes"!==Ht.tm_epo_auto_hide_price_if_zero?(d=n.find(".tm-epo-field")).length>0&&d.is(".tmcp-select")&&!d.children("option:selected").data("price")?(s.empty(),c.addClass("tm-hidden")):(o&&void 0!==o&&parseFloat(o)!==parseFloat(e)?s.html(a.epoAPI.template.html(Bt.templateEngine.sale_price,{price:l})):s.html(a.epoAPI.template.html(Bt.templateEngine.price,{price:l})),c.removeClass("tm-hidden")):(s.empty(),c.addClass("tm-hidden")))}function P(t){var e={};return t.find(".variations select").each(function(){var t,i;t=void 0!==a(this).data("attribute_name")?a(this).data("attribute_name"):a(this).attr("name"),i=a(this).val(),e[t]=i}),e}function q(t,e){var i=[],o=P(t),r=!0;t.find(".cpf-type-variations").each(function(r,n){var c,l,d=a(n).find(".tm-epo-variation-element"),s=!1;i[r]=!0,d.is("select")?(c=a.epoAPI.dom.id(d.attr("data-tm-for-variation")),(l=d.val())&&(i[r]=!1),d.children("option").each(function(e,i){s=!1,t.find("#"+c).children("option").each(function(){if(a(this).attr("value")===a(i).attr("value"))return s=!0,!1}),s?a(i).removeAttr("disabled").show():a(i).attr("disabled","disabled").hide()})):d.each(function(t,n){var d,s,p=a(n),m=p.closest("li"),_=m.find(".tm-epo-variation-element"),f=a.extend(!0,{},o);c=p.attr("data-tm-for-variation"),l=p.val(),p.is(":checked")&&(i[r]=!1),f["attribute_"+c]=l,s=(d=a.fn.tm_find_matching_variations(e,f).shift())&&"is_in_stock"in d&&d.is_in_stock,d&&s?(p.removeAttr("disabled").removeClass("tm-disabled"),m.removeClass("tm-attribute-disabled").fadeTo("fast",1,function(){a(this).css("opacity","")}),_.removeAttr("disabled"),_.removeAttr("data-tm-disabled")):(p.attr("disabled","disabled").addClass("tm-disabled"),_.attr("disabled","disabled"),_.attr("data-tm-disabled","disabled"),m.addClass("tm-attribute-disabled").fadeTo("fast",.5),s||m.find("label").off())})}),i&&(i.shift(),a.each(i,function(t,e){if(!1===e)return r=!1,!1}),r&&t.find(".cpf-type-variations").first().each(function(t,e){var i,o,r;(i=a(e).find(".tm-epo-variation-element")).is("select")||i.each(function(t,e){e=a(e),o=e.closest("li"),r=o.find(".tm-epo-variation-element"),e.removeAttr("disabled").removeClass("tm-disabled"),o.removeClass("tm-attribute-disabled").stop().css("opacity",""),r.removeAttr("disabled"),r.removeAttr("data-tm-disabled")})}))}function S(e){var i,o=e.data("product_variations"),r=parseInt(e.data("product_id"),10),n=e.data("globalVariationObject")||!1;r||(r=e.data("tc_product_id")),!r&&e.is(Bt.compositeSelector)&&(r=(i=e.find(".component_options").data("options_data"))[0].option_id,o||(o=e.find(".details.component_data").data("product_variations"))),!o&&t.product_variations&&t.product_variations.product_id&&(o=t.product_variations.product_id),!o&&t.product_variations&&(o=t.product_variations),!o&&t["product_variations_"+r]&&(o=t["product_variations_"+r]),o?q(e,o):n?q(e,n.variations):(i={action:"woocommerce_tm_get_variations_array",post_id:r},a.post(Ht.ajax_url,i,function(t){n=t,e.data("globalVariationObject",t),q(e,n.variations)},"json"))}function E(t,e){var i,o;return void 0!==e&&(t=a(t),i=t.find(".tm-epo-variation-element"),o=i.closest(".tm-epo-variation-section"),i.length?(o.find(".tm-stock").remove(),o.append('<div class="tm-stock">'+e+"</div>"),!0):(t.find(".tm-stock").remove(),t.find(".variations").after('<div class="tm-stock">'+e+"</div>"),!0))}function T(t,e){var a;"no"!==Ht.tm_epo_global_move_out_of_stock&&((a=t.find(".woocommerce-variation-availability").last()).length||(a=t.find(".stock").last()),a.length?(e.find(".tm-stock").remove(),E(e,a.prop("outerHTML"))&&a.remove()):e.find(".tm-stock").remove())}function z(t,e,a){var i,o="";return a&&(o=o+"[value='"+a+"']"),e||(e=t),0===(i=e.find(Bt.AddToCartSelector+o)).length&&(i=e.find(Bt.tcAddToCartSelector+o)),i.last()}function j(t,e,a,i){return a||(a="form"),z(t,e,i).closest(a)}function D(t,e,a,i){return j(t,e,a,i)}function O(t){var e=a.epoAPI.applyFilter("tcGetNativePricesBlockSelector",".single_variation .price",t);return a(t).find(e).not(".tc-price")}function N(){Jt.on("click.cpfurl change.cpfurl tmredirect",".use_url_container .tmcp-radio, .use_url_container .tmcp-radio+label",function(e){var i=a(this).attr("data-url");i&&t.location!==i&&(e.preventDefault(),t.location=i)}),Jt.on("change.cpfurl tmredirect",".use_url_container .tmcp-select",function(e){var i=a(this).children("option:selected").attr("data-url");i&&t.location!==i&&(e.preventDefault(),t.location=i)})}function B(t,e,i){a.tcFloatingTotalsBox(t,e,i)}function H(t,e,a){var i;e&&"yes"===Ht.tm_epo_hide_add_cart_button&&(i=t.find(Bt.addToCartButtonSelector).first(),a?i.removeClass("tc-hide-add-to-cart-button"):i.addClass("tc-hide-add-to-cart-button"))}function L(e,i){var o,r,n,c,l=a.tcepo.errorObject[i]||e;l&&("yes"!==Ht.tm_epo_disable_error_scroll&&(r=(o=l.closest(".cpf-section")).find(".tm-section-link"),n=l.closest(".cpf_hide_element"),o.find(".tm-toggle").length&&o.find(".tm-toggle").trigger("openwrap.tmtoggle"),t.tc_validation_offset||(t.tc_validation_offset=-100),o.is(".section_popup")?(Vt.tcScrollTo(r,300,t.tc_validation_offset),r.trigger("click.tmsectionpoplink")):o.is(".tm-owl-slider-section")?(c=l.closest(".owl-item").index(),o.find(".tcowl-carousel").trigger("to.owl.carousel",[c,100]),setTimeout(function(){o.find(".tcowl-carousel").trigger("refresh.owl.carousel"),n.length>0&&Vt.tcScrollTo(n,300,t.tc_validation_offset)},200)):n.length>0&&Vt.tcScrollTo(n,300,t.tc_validation_offset)),e||(a.tcepo.errorObject[i]=!1))}function M(t,e){var i,o,r,n=parseInt(t.attr("data-limit"),10),c=!1;return!(n>0&&(c=0,t.closest(".tm-extra-product-options-checkbox").find("input.tm-epo-field[type='checkbox']:checked").each(function(){o=a(this),(r=o.closest("li.tmcp-field-wrap").find("input.tm-qty")).length>0?((i=parseInt(r.val(),10))<=0&&(i=1),c=parseInt(c,10)+i):c=parseInt(c,10)+1}),c>n))||(e&&t.prop("checked","").trigger("change"),!1)}function U(t,e){var i,o,r,n=parseInt(t.attr("data-exactlimit"),10),c=!1;return!(n>0&&(c=0,t.closest(".tm-extra-product-options-checkbox").find("input.tm-epo-field[type='checkbox']:checked").each(function(){o=a(this),(r=o.closest("li.tmcp-field-wrap").find("input.tm-qty")).length>0?((i=parseInt(r.val(),10))<=0&&(i=1),c=parseInt(c,10)+i):c=parseInt(c,10)+1}),c>n))||(e&&t.prop("checked","").trigger("change"),!1)}function R(t,e,i){var o,r,n,c,l,d,s,p,m,_,f=!0,g=!1;return t.each(function(){_=a(this),(o=_.find("[type='checkbox'][data-limit]")).length&&u(o)&&(r=parseInt(o.attr("data-limit"),10),n=0,_.find("input.tm-epo-field[type='checkbox']:checked").each(function(){c=a(this),(d=c.closest("li.tmcp-field-wrap").find("input.tm-qty")).length>0?((l=parseInt(d.val(),10))<=0&&(l=1),n=parseInt(n,10)+l):n=parseInt(n,10)+1}),s=_.closest(".cpf_hide_element"),p=s.find("div.tm-error-min"),r<n?(f=!1,g=_,m=1===r?Ht.tm_epo_global_validator_messages.epolimitsingle.replace("{0}",r):Ht.tm_epo_global_validator_messages.epolimit.replace("{0}",r),p.length&&p.remove(),_.after('<div class="tm-error-min tm-error">'+m+"</div>"),e.find(Bt.addToCartButtonSelector).first().removeClass("disabled loading fpd-disabled").removeAttr("disabled")):p.remove())}),g&&(a.tcepo.errorObject[i]=g),f}function Z(t,e,i){a.tcepo.formSubmitEvents[i][a.tcepo.formSubmitEvents[i].length]={trigger:function(){return R(t,e,i)},on_true:function(){return!0},on_false:function(){return L(a(t).find(".tm-epo-field").first(),i),!0}}}function W(t,e,i){var o,r,n,c,l,d,s,p,m,_,f=!0,g=!1;return t.each(function(){_=a(this),(o=_.find("[type='checkbox'][data-exactlimit]")).length&&u(o)&&(r=parseInt(o.attr("data-exactlimit"),10),n=0,_.find("input.tm-epo-field[type='checkbox']:checked").each(function(){c=a(this),(d=c.closest("li.tmcp-field-wrap").find("input.tm-qty")).length>0?((l=parseInt(d.val(),10))<=0&&(l=1),n=parseInt(n,10)+l):n=parseInt(n,10)+1}),s=_.closest(".cpf_hide_element"),p=s.find("div.tm-error-min"),r!==n?(f=!1,g=_,m=1===r?Ht.tm_epo_global_validator_messages.epoexactsingle.replace("{0}",r):Ht.tm_epo_global_validator_messages.epoexact.replace("{0}",r),p.length&&p.remove(),_.after('<div class="tm-error-min tm-error">'+m+"</div>"),e.find(Bt.addToCartButtonSelector).first().removeClass("disabled loading fpd-disabled").removeAttr("disabled")):p.remove())}),g&&(a.tcepo.errorObject[i]=g),f}function $(t,e,i){a.tcepo.formSubmitEvents[i][a.tcepo.formSubmitEvents[i].length]={trigger:function(){return W(t,e,i)},on_true:function(){return!0},on_false:function(){return L(a(t).find(".tm-epo-field").first(),i),!0}}}function X(t,e){var i,o,r,n,c,l,d,s,p,m=!0,_=!1;return t.each(function(){var t;(t=(p=a(this)).find("[type='checkbox'][data-minimumlimit]")).length&&u(t)&&(i=parseInt(t.attr("data-minimumlimit"),10),o=0,p.find("input.tm-epo-field[type='checkbox']:checked").each(function(){r=a(this),(c=r.closest("li.tmcp-field-wrap").find("input.tm-qty")).length>0?((n=parseInt(c.val(),10))<=0&&(n=1),o=parseInt(o,10)+n):o=parseInt(o,10)+1}),l=p.closest(".cpf_hide_element"),d=l.find("div.tm-error-min"),i>o?(m=!1,_=p,s=1===i?Ht.tm_epo_global_validator_messages.epominsingle.replace("{0}",i):Ht.tm_epo_global_validator_messages.epomin.replace("{0}",i),d.length&&d.remove(),p.after('<div class="tm-error-min tm-error">'+s+"</div>")):d.remove())}),_&&(a.tcepo.errorObject[e]=_),m}function Q(t,e){a.tcepo.formSubmitEvents[e][a.tcepo.formSubmitEvents[e].length]={trigger:function(){return X(t,e)},on_true:function(){return!0},on_false:function(){return L(!1,e),!0}}}function G(t,e,i,o){return"object"==typeof t&&(t=t[0],Number.isFinite(parseFloat(t))||(t=0)),a.epoAPI.applyFilter("tc_apply_dpd",t,e,i,o)}function J(t){var e=0;return t.length>0&&(e=t.data("price")),e=a.epoAPI.applyFilter("tc_calculate_product_price",e,t),e=parseFloat(e),Number.isFinite(e)||(e=0),e}function V(t,e,i,o,n){var l,d,s,p,m,_,f,u,g,h,v,y,b,w,k,x,F,C,I,P,q,S,E=a(e),T=E,z=E.is(".tmcp-range"),j=t.main_product,D=t.epoEventId,O=t.this_epo_totals_container;if(i?(l=i.cart,d=i.current_variation,s=i.bundleid,p=i.epoTotalsContainer,_=i.product_price,m=i.apply_dpd):(q="input[name^='variation_id']",(l=E.closest(".cart")).find("input.variation_id").length>0&&(q="input.variation_id"),d=l.find(q).val(),s=a.epoAPI.applyFilter("tc_get_bundleid",l.attr("data-product_id"),l),d||(d=0),_=J(p=a.epoAPI.applyFilter("tc_get_totals_container",O,E,j,s)),m=p.data("fields-price-rules")),!1!==(_=a.epoAPI.applyFilter("tc_alter_product_price",_,E,l))){switch(E.is("select")&&(T=E.find("option:selected")),o&&(T=o),f=T.data("rules"),u=T.data("rulestype"),void 0===(g=T.data("original-rules"))&&(g=f),b="","object"==typeof f?(d in f?(w=f[d],k=g[d]):(h=E.closest(".tmcp-ul-wrap").data("rules"),y=E.closest(".tmcp-ul-wrap").data("original-rules"),w="object"==typeof h&&d in h?h[d]:f[0],k="object"==typeof y&&d in y?y[d]:g[0]),"object"==typeof u?b=d in u?u[d]:"object"==typeof(v=E.closest(".tmcp-ul-wrap").data("rulestype"))&&d in v?v[d]:u[0]:"object"==typeof(u=E.closest(".tmcp-ul-wrap").data("rulestype"))&&(b=d in u?u[d]:u[0])):(f=(S=E.closest(".tmcp-ul-wrap")).data("rules"),g=S.data("original-rules"),"object"==typeof f&&(w=d in f?f[d]:f[0],k="object"==typeof g?d in g?g[d]:g[0]:w,"object"==typeof u?b=d in u?u[d]:"object"==typeof(v=S.data("rulestype"))&&d in v?v[d]:u[0]:"object"==typeof(u=S.data("rulestype"))&&(b=d in u?u[d]:u[0]))),"object"==typeof b&&(b=b[0]),E.is(".tmcp-fee-field")&&-1===a.inArray(b,["fee","stepfee","stepfee"])&&(b="fee"),void 0===n&&(E.is("select")?E.find("option").removeClass("tm-epo-late-field").removeData("tm-price-for-late islate"):T.removeClass("tm-epo-late-field").removeData("tm-price-for-late islate")),"fee"===b&&(m=0),b){case"":w=G(w,p,m),k=G(k,p,m);break;case"fee":Number.isFinite(parseFloat(w))||(w=0),Number.isFinite(parseFloat(k))||(k=0);break;case"percent":w=G(w,p,m)/100*_,k=G(k,p,m)/100*_;break;case"percentcurrenttotal":a.tcepo.lateFieldsPrices[D].push({setter:T,price:w,bundleid:s}),T.data("tm-price-for-late",w).data("islate",1).addClass("tm-epo-late-field"),w=0,k=0;break;case"word":w=G(w,p,m)*(T.val().split(/\w+/).length-1),k=G(k,p,m)*(T.val().split(/\w+/).length-1);break;case"wordpercent":w=w/100*_*(T.val().split(/\w+/).length-1),k=k/100*_*(T.val().split(/\w+/).length-1);break;case"wordnon":I=parseInt(T.attr("data-freechars"),10),Number.isFinite(I)||(I=0),(C=T.val().split(/\w+/).length-1-I)<0&&(C=0),w=G(w,p,m)*C,k=G(k,p,m)*C;break;case"wordpercentnon":I=parseInt(T.attr("data-freechars"),10),Number.isFinite(I)||(I=0),(C=T.val().split(/\w+/).length-1-I)<0&&(C=0),w=w/100*_*C,k=k/100*_*C;break;case"char":w=G(w,p,m)*T.val().length,k=G(k,p,m)*T.val().length;break;case"charpercent":w=w/100*_*T.val().length,k=k/100*_*T.val().length;break;case"charnospaces":w=G(w,p,m)*T.val().replace(/\s/g,"").length,k=G(k,p,m)*T.val().replace(/\s/g,"").length;break;case"charnofirst":(C=T.val().length-1)<0&&(C=0),w=G(w,p,m)*C,k=G(k,p,m)*C;break;case"charnon":I=parseInt(T.attr("data-freechars"),10),Number.isFinite(I)||(I=0),(C=T.val().length-I)<0&&(C=0),w=G(w,p,m)*C,k=G(k,p,m)*C;break;case"charpercentnon":I=parseInt(T.attr("data-freechars"),10),Number.isFinite(I)||(I=0),(C=T.val().length-I)<0&&(C=0),w=w/100*_*C,k=k/100*_*C;break;case"charnonnospaces":I=parseInt(T.attr("data-freechars"),10),Number.isFinite(I)||(I=0),(C=T.val().replace(/\s/g,"").length-I)<0&&(C=0),w=G(w,p,m)*C,k=G(k,p,m)*C;break;case"charpercentnonnospaces":I=parseInt(T.attr("data-freechars"),10),Number.isFinite(I)||(I=0),(C=T.val().replace(/\s/g,"").length-I)<0&&(C=0),w=w/100*_*C,k=k/100*_*C;break;case"charpercentnofirst":(C=T.val().length-1)<0&&(C=0),w=w/100*_*C,k=k/100*_*C;break;case"step":z?(w=G(w,p,m)*T.val(),k=G(k,p,m)*a.epoAPI.math.toFloat(T.val())):(w=G(w,p,m)*a.epoAPI.math.toFloat(T.val()),k=G(k,p,m)*a.epoAPI.math.toFloat(T.val()));break;case"stepfee":w*=a.epoAPI.math.toFloat(T.val()),k*=a.epoAPI.math.toFloat(T.val());break;case"currentstep":z?(w=G(T.val(),p,m),k=G(T.val(),p,m)):(w=G(a.epoAPI.math.toFloat(T.val()),p,m),k=G(a.epoAPI.math.toFloat(T.val()),p,m));break;case"currentstepfee":z?(w=T.val(),k=a.epoAPI.math.toFloat(T.val())):(w=a.epoAPI.math.toFloat(T.val()),k=a.epoAPI.math.toFloat(T.val()));break;case"intervalstep":z&&(P=parseFloat(a('.tm-range-picker[data-field-id="'+T.attr("id")+'"]').attr("data-min")),w=G(w,p,m)*(T.val()-P),k=G(k,p,m)*(T.val()-P));break;case"row":w=G(w,p,m)*((T.val().match(/(\r\n|\n|\r)/gm)||[]).length+1),k=G(k,p,m)*((T.val().match(/(\r\n|\n|\r)/gm)||[]).length+1)}E.data("tm-quantity")&&(w*=parseFloat(E.data("tm-quantity")),k*=parseFloat(E.data("tm-quantity"))),x=c(w,p,!1,!1,T),F=c(k,p,!1,!1,T),T.data("raw_price",w),T.data("raw_original_price",k),T.data("price",r(w,p,T)),T.data("original_price",r(k,p,T)),o||A(T.closest(".tmcp-field-wrap").find(".tc-price"),w,x,k,F)}}function Y(t,e){var i,o,n,l,d,s,p,m,_,f,g,h,v,y,b,w,k,x,F=t.main_product,C=t.epoEventId,I=t.this_epo_container,P=t.this_epo_totals_container;(i=e||F.find(".cart")).length<=0||(a.tcepo.lateFieldsPrices[C]=[],i.toArray().forEach(function(e){if(e=a(e),o="input[name^='variation_id']",e.find("input.variation_id").length>0&&(o="input.variation_id"),n=a.epoAPI.applyFilter("tc_get_per_product_pricing",!0,e),l=e.find(o).val(),d=a.epoAPI.applyFilter("tc_get_bundleid",e.attr("data-product_id"),e),l||(l=0),s=a.epoAPI.applyFilter("tc_get_epo_container",I,e,F,d),p=a.epoAPI.applyFilter("tc_get_totals_container",P,e,F,d),m=p.data("fields-price-rules"),s.data("tm_rules_init_done")||(p.data("force-quantity")&&e.find(Bt.qtySelector).val(p.data("force-quantity")),s.toArray().forEach(function(t){a(t).closest(".tmcp-field-wrap").find(".tm-epo-field").data("tm-quantity",a(t).val())}),s.find(".tmcp-attributes, .tmcp-elements").toArray().forEach(function(t){t=a(t),_=t.data("rules"),f=t.data("original-rules"),"object"!=typeof _&&(_={0:"0"}),"object"!=typeof f&&(f={0:"0"}),"object"==typeof _&&(g=G(_[a.epoAPI.math.toFloat(l)],p,m),h=c(g,p),v=G(f[a.epoAPI.math.toFloat(l)],p,m),y=c(v,p),t.find(".tmcp-field, .tmcp-fee-field ").toArray().forEach(function(t){t=a(t),n?(t.data("raw_price",g),t.data("raw_original_price",v),t.data("price",r(g,p,t)),t.data("original_price",r(v,p,t)),A(t.closest(".tmcp-field-wrap").find(".tc-price"),g,h,v,y)):(t.data("price",0),t.data("original_price",0),t.closest(".tmcp-field-wrap").find(".amount").empty())}))}),s.data("tm_rules_init_done",1)),!n)return!0;b=J(p),x={cart:e,current_variation:l,bundleid:d,epoTotalsContainer:p,product_price:b,apply_dpd:m},w=s.find(".tmcp-field,.tmcp-sub-fee-field,.tmcp-fee-field"),k=w.filter(".tcenabled"),(!a.tcepo.initialActivation[C]||0===k.length&&w.length>0)&&(w.each(function(){u(a(this))}),a.tcepo.initialActivation[C]=!0),w.filter(".tcenabled").each(function(e,a){V(t,a,x)}),w.each(function(e,i){a(i).on("tc_element_epo_rules",function(){V(t,i,x)})})}))}function K(t,e,i,o){var n,l,d,s,p,m,_,f,g,h,v,y=0,b=t.epoEventId;return a.tcepo.lateFieldsPrices[b].forEach(function(t){n=t.price,l=t.original_price,d=t.setter,m=t.bundleid,_=d,d.is("option")&&(_=d.closest("select")),s=a.epoAPI.dom.id(_.attr("name")),f=a(".tc-totals-form.tm-totals-form-"+o.attr("data-cart-id")).attr("data-product-id"),g=a(".tc-totals-form.tm-totals-form-"+o.attr("data-cart-id")).attr("data-epo-id"),p=a(".tc-extra-product-options.tm-product-id-"+f+"[data-epo-id='"+g+"']").find("#"+s+"_hidden"),m===i?(n=n/100*e,l=l/100*e,_.data("tm-quantity")&&(n*=parseFloat(_.data("tm-quantity")),l*=parseFloat(_.data("tm-quantity"))),1===d.data("isset")&&u(d)&&(y+=n),h=c(n,o,!0,!1,d),v=c(l,o,!0,!1,d),d.data("price",r(n,o,d)),d.data("pricew",r(n,o,d)),d.data("original_price",r(l,o,d)),d.data("original_pricew",r(l,o,d)),A(d.closest(".tmcp-field-wrap").find(".tc-price"),n,h,l,v),0===p.length&&_.before('<input type="hidden" id="'+s+'_hidden" name="'+s+'_hidden" value="'+C(n,o)+'" />'),d.is(".tm-epo-field.tmcp-radio")?d.is(":checked")&&p.val(C(n,o)):p.val(C(n,o))):void 0!==d.data("pricew")&&(h=c(d.data("pricew"),o,!0,!1,d),v="",void 0!==d.data("original_pricew")&&(v=c(d.data("original_pricew"),o,!0,!1,d)),A(d.closest(".tmcp-field-wrap").find(".tc-price"),d.data("pricew"),h,d.data("original_pricew"),v))}),a.tcepo.lateFieldsPrices[b]=[],y}function tt(t){var e,i,o,r,n=[".tm-variation-ul-color",".tm-variation-ul-image",".tm-variation-ul-radiostart",".tm-variation-ul-radioend","ul.use_images_container","ul.use_colors_container"],c=t.main_product;a(".tc-extra-product-options").addClass("tc-show-hidden"),n.forEach(function(t){c.find(t).toArray().forEach(function(t){a(t).toArray().forEach(function(t){t=a(t),(e=t.find(".tmhexcolorimage-li-nowh")).length&&(i=t.closest(".cpf-section"),o=e.first(),i.length&&i.find(".tm-collapse-wrap.closed").length?(i.find(".tm-collapse-wrap").removeClass("closed").show(),r=e.is(".tc-mode-endcolor, .tc-mode-startcolor")?o.css("line-height"):o.width()+"px",i.find(".tm-collapse-wrap").addClass("closed").hide()):r=e.is(".tc-mode-endcolor, .tc-mode-startcolor")?o.css("line-height"):o.width()+"px",e.find(".tmhexcolorimage").css({"min-width":r,"min-height":r}))})})}),a(".tc-extra-product-options").removeClass("tc-show-hidden")}function et(){var t;"yes"!==Ht.tm_epo_no_lazy_load&&((t=$t?a($t).find("img.tmlazy"):a(".tc-extra-product-options img.tmlazy")).lazyLoadXT(),t.on("lazyshow",function(){Gt.trigger("lazyLoadXToncomplete")}))}function at(t){var e,i;t&&t.find(".tm-owl-slider-section").each(function(){e=a(this),i=e.css("display"),e.find(".tm-slide").first().before('<div class="tm-owl-slider"></div>'),e.find(".tm-slide").appendTo(e.find(".tm-owl-slider")),e=e.find(".tm-owl-slider"),i=e.css("display"),e.show().addClass("tcowl-carousel").tmowlCarousel({dots:!1,nav:!0,items:1,autoHeight:!0,mouseDrag:!1,touchDrag:!0,navText:[Ht.i18n_prev_text,Ht.i18n_next_text],navClass:["owl-prev button","owl-next button"],navElement:"a",loop:!1,navRewind:!1}),e.css("display",i)})}function it(t){t&&a(t).length&&(a(t).spectrum({showButtons:!0,clickoutFiresChange:!1,chooseText:Ht.closeText,cancelText:Ht.i18n_cancel}),a(t).spectrum("enable"))}function ot(t){var e=t.closest(".tmcp-field-wrap").find("label img"),i=a(e).first().attr("data-original");return t.is("select.tm-product-image")&&(t=t.children("option:selected")),i||(i=a(e).first().attr("src")),i||(i=t.attr("data-image")),t.attr("data-imagep")&&(i=t.attr("data-imagep")),!!i}function rt(){var e,i;try{a(".tm-epo-field.tmcp-upload").not(".tm-multiple-file-upload").toArray().forEach(function(t){e=a(t),(Rt||Zt)&&((i=new Rt("").clipboardData||new Zt).items.add(new File([e.attr("data-file")],e.attr("data-filename"))),t.files=i.files),e.trigger("change.tcupload"),e.after('<input type="hidden" class="tmcp-upload-hidden" name="'+e.attr("name")+'" value="'+e.attr("data-file")+'" />'),e.removeAttr("data-file data-filename")})}catch(e){t.console.log(e),a(".tm-epo-field.tmcp-upload").not(".tm-multiple-file-upload").addClass("tc-nodt"),Ot=e}}function nt(t){var e=t.epoEventId,i=t.this_epo_container;"yes"===Ht.tm_epo_upload_popup&&(a.tcepo.formSubmitEvents[e][a.tcepo.formSubmitEvents[e].length]={trigger:function(){return!0},on_true:function(){var t=i.data("num_uploads");return t&&a.tcFloatBox({fps:1,ismodal:!0,refresh:"fixed",width:"50%",height:"300px",classname:"flasho tm_wrapper",data:a.epoAPI.template.html(Bt.templateEngine.tc_upload_messages,{files:t,title:Ht.i18n_uploading_files,message:Ht.i18n_uploading_message})}),!0},on_false:function(){return!0}})}function ct(t){var e=t.this_epo_container,i=t.main_product,o=t.epoEventId,r=e.find(".tm-limit"),n=e.find(".tm-exactlimit"),c=e.find(".tm-minimumlimit");e.on("change.cpflimit","input.tm-epo-field.tmcp-checkbox",function(){var t=a(this);M(t,!0),U(t,!0)}),r.length&&Z(r,i,o),n.length&&$(n,i,o),c.length&&Q(c,o)}function lt(e){var i,o,r=e.this_epo_totals_container,n=e.this_epo_container,c=r.attr("data-theme-name");if(c){switch(c=c.toLowerCase(),i=n.find("select"),c){case"flatsome":case"flatsome-child":case"flatsome child":i.wrap('<div class="custom select-wrapper"/>');break;case"avada":case"avada-child":case"avada child":i.wrap('<div class="avada-select-parent tm-select-parent"></div>'),a('<div class="select-arrow">&#xe61f;</div>').appendTo(n.find(".tm-select-parent")),t.calc_select_arrow_dimensions?(t.calc_select_arrow_dimensions(),Gt.on("tmsectionpoplink cpflogicdone",function(){t.calc_select_arrow_dimensions()})):t.calcSelectArrowDimensions&&(t.calcSelectArrowDimensions(),Gt.on("tmsectionpoplink cpflogicdone",function(){t.calcSelectArrowDimensions()}));break;case"bazar":case"bazar-child":case"bazar child":i.wrap('<div class="tm-select-wrapper select-wrapper"/>');break;case"blaszok":case"blaszok-child":case"blaszok child":o=function(){setTimeout(function(){a(".tm-extra-product-options select").not(".hasCustomSelect").filter(":visible").each(function(){a(this).is(".mpcthSelect")||(a(this).width(a(this).outerWidth()),a(this).customSelect({customClass:"mpcthSelect"}))})},100)},Gt.on("cpflogicrun",function(){o()}),Gt.on("epo_options_visible",function(){o()});break;case"handmade":case"handmade child theme":a(".tm-owl-slider.tcowl-carousel").addClass("manual")}Gt.trigger("tm-theme-specific-actions",{epo:{theme_name:c,all_epo_selects:i}})}Jt.off("click.cpf",".quantity:not(.buttons_added) .minus, .quantity:not(.buttons_added) .plus").on("click.cpf",".quantity:not(.buttons_added) .minus, .quantity:not(.buttons_added) .plus",function(){a(this).closest(".quantity").find(Bt.qtySelector).trigger("change.cpf")})}function dt(t,i,o,r,n){var c,l,d,s,p,m,_,f,u,g=t.epoEventId,h="input[name^='variation_id']";if(i.find("input.variation_id").length>0&&(h="input.variation_id"),n.find(".tm-epo-variation-element").length||n.data("tm-epo-variation-element")){if(n.data("tm-epo-variation-element",n.find(".tm-epo-variation-element")),c=n.find(".tm-epo-variation-section"),o&&"main"!==o)l=c.closest("li.tm-extra-product-options-field"),c.is(".tm-hidden")||i.find(".variations").hide(),i.find(".variations").after(c.addClass("tm-extra-product-options nopadding")),l.is(":empty")&&l.hide(),d=!1,i.off("wc_variation_form.tmlogic").on("wc_variation_form.tmlogic",function(){for(d=!0,i.find(".variations_form").on("click.tmlogic",".reset_variations",function(){i.find(".tm-epo-variation-element").closest("li").show(),i.find("select.tm-epo-variation-element").val("").children("option").removeAttr("disabled").show(),i.find(".tm-epo-variation-element").removeAttr("disabled").removeClass("tm-disabled").removeAttr("checked").prop("checked",!1),Gt.trigger("tmlazy"),r.find(".tm-epo-variation-element").trigger("tm_trigger_product_image"),i.find(".tm-epo-variation-section li").removeClass("tc-active")}),i.off("woocommerce_update_variation_values_tmlogic").on("woocommerce_update_variation_values_tmlogic",function(){S(i)}),u=0;u<Wt.length;u+=1)s=Wt[u],"object"===(p=typeof s)&&(m="string"==typeof s.name||!1,_="string"==typeof s.selector||!1,f="function"==typeof s.func||!1,m&&f&&("input[name='variation_id']"===_&&(_=h),s.selector?i.data("tm-styled-variations",1).off(s.name,s.selector).on(s.name,s.selector,s.func):i.data("tm-styled-variations",1).off(s.name).on(s.name,s.func)));Wt=[],i.find(".tm-epo-variation-element").last().trigger("tm_epo_variation_element_change")}),Jt.ready(function(){!1===d&&i.trigger("wc_variation_form.tmlogic")});else{for(i=i.find(".variations_form"),c.is(".tm-hidden")||i.find(".variations").hide(),l=c.closest("li.tm-extra-product-options-field"),i.find(".variations").after(c.addClass("tm-extra-product-options nopadding")),l.is(":empty")&&l.hide(),i.off("click.tmlogic",".reset_variations").on("click.tmlogic",".reset_variations",function(){i.find(".tm-epo-variation-element").closest("li").show(),i.find("select.tm-epo-variation-element").val("").children("option").removeAttr("disabled").show(),i.find(".tm-epo-variation-element").removeAttr("disabled").removeClass("tm-disabled").removeAttr("checked").prop("checked",!1),Gt.trigger("tmlazy"),r.find(".tm-epo-variation-element").trigger("tm_trigger_product_image"),i.find(".tm-epo-variation-section li").removeClass("tc-active")}),i.off("woocommerce_update_variation_values_tmlogic").on("woocommerce_update_variation_values_tmlogic",function(){S(i)}),u=0;u<Wt.length;u+=1)s=Wt[u],"object"===(p=typeof s)&&(m="string"==typeof s.name||!1,_="string"==typeof s.selector||!1,f="function"==typeof s.func||!1,m&&f&&("input[name='variation_id']"===_&&(_=h),s.selector?i.data("tm-styled-variations",1).off(s.name,s.selector).on(s.name,s.selector,s.func):i.data("tm-styled-variations",1).off(s.name).on(s.name,s.func)));Wt=[],i.find(".tm-epo-variation-element").last().trigger("tm_epo_variation_element_change")}a.tcepo.formSubmitEvents[g][a.tcepo.formSubmitEvents[g].length]={trigger:function(){return!0},on_true:function(){return r.find(".tm-epo-variation-element").attr("disabled","disabled"),!0},on_false:function(){r.find(".tm-epo-variation-element").removeAttr("disabled")}},a(e.body).on("added_to_cart",function(){r.find(".tm-epo-variation-element").removeAttr("disabled")})}}function st(t,e){var i=e.find(".flex-control-nav li:eq(0) img"),o=e.find(".woocommerce-product-gallery__wrapper ").find(".woocommerce-product-gallery__image, .woocommerce-product-gallery__image--placeholder").eq(0),r=t,n=t.closest("a");r.attr("data-o_src",a.tc_product_image_store[0].src),r.attr("data-o_srcset",a.tc_product_image_store[0].srcset),r.attr("data-o_sizes",a.tc_product_image_store[0].sizes),r.attr("data-o_title",a.tc_product_image_store[0].title),r.attr("data-o_alt",a.tc_product_image_store[0].alt),r.attr("data-o_data-src",a.tc_product_image_store[0]["data-src"]),r.attr("data-o_data-large_image",a.tc_product_image_store[0]["data-large_image"]),r.attr("data-o_data-large_image_width",a.tc_product_image_store[0]["data-large_image_width"]),r.attr("data-o_data-large_image_height",a.tc_product_image_store[0]["data-large_image_height"]),o.attr("data-o_data-thumb",a.tc_product_image_store[1]["data-thumb"]),a.tc_product_image_store[2]&&i.attr("data-o_src",a.tc_product_image_store[2].src),n.attr("data-o_href",a.tc_product_image_store[3].href),n.attr("data-o_title",a.tc_product_image_store[3].title)}function pt(t,e){var i=e.find(".flex-control-nav li:eq(0) img"),o=e.find(".woocommerce-product-gallery__wrapper ").find(".woocommerce-product-gallery__image, .woocommerce-product-gallery__image--placeholder").eq(0),r=t,n=t.closest("a");a.isEmptyObject(a.tc_product_image)?a.tc_product_image_store=a.tc_populate_store(t,e):(a.tc_product_image_store=a.tc_pre_populate_store(),a.tc_product_image_store=a.tc_maybe_copy_object_values(a.tc_product_image_store,a.tc_product_image)),r.tc_update_attr("src",0),r.tc_update_attr("srcset",0),r.tc_update_attr("sizes",0),r.tc_update_attr("title",0),r.tc_update_attr("alt",0),r.tc_update_attr("data-src",0),r.tc_update_attr("data-large_image",0),r.tc_update_attr("data-large_image_width",0),r.tc_update_attr("data-large_image_height",0),o.tc_update_attr("data-thumb",1),i.tc_update_attr("src",2),n.tc_update_attr("href",3),n.tc_update_attr("title",3)}function mt(t,e,a){var i=a.find(".flex-control-nav li:eq(0) img"),o=a.find(".woocommerce-product-gallery__wrapper ").find(".woocommerce-product-gallery__image, .woocommerce-product-gallery__image--placeholder").eq(0),r=e,n=e.closest("a");t&&t.image_link&&t.image_link&&t.image_link.length>1?(null===t.full_src&&(t.full_src=t.image_link),null===t.full_src_w&&(t.full_src_w=r.attr("data-large_image_width")),null===t.full_src_h&&(t.full_src_h=r.attr("data-large_image_height")),r.length&&(t.image_srcset||(t.image_sizes=!1),t.image_sizes||(t.image_srcset=!1),r.tc_set_attr("src",t.image_link,0),r.tc_set_attr("srcset",t.image_srcset,0),r.tc_set_attr("sizes",t.image_sizes,0),r.tc_set_attr("title",t.image_title,0),r.tc_set_attr("alt",t.image_alt,0),r.tc_set_attr("data-src",t.full_src,0),r.tc_set_attr("data-large_image",t.full_src,0),r.tc_set_attr("data-large_image_width",t.full_src_w,0),r.tc_set_attr("data-large_image_height",t.full_src_h,0),o.tc_set_attr("data-thumb",t.image_link,1)),i.length&&i.tc_set_attr("src",t.image_link,2),n.length&&(n.tc_set_attr("href",t.full_src,3),n.tc_set_attr("title",t.image_caption,3))):(r.length&&(r.tc_reset_attr("src",0),r.tc_reset_attr("srcset",0),r.tc_reset_attr("sizes",0),r.tc_reset_attr("title",0),r.tc_reset_attr("alt",0),r.tc_reset_attr("data-src",0),r.tc_reset_attr("data-large_image",0),r.tc_reset_attr("data-large_image_width",0),r.tc_reset_attr("data-large_image_height",0),o.tc_reset_attr("data-thumb",1)),i.length&&i.tc_reset_attr("src",2),n.length&&(n.tc_reset_attr("href",3),n.tc_reset_attr("title",3)))}function _t(t){var e;return""!==Ht.tm_epo_global_product_image_selector?e=a(Ht.tm_epo_global_product_image_selector):(0===(e=t.find(".woocommerce-product-gallery__image:not(.clone), .woocommerce-product-gallery__image--placeholder:not(.clone)").eq(0).find(".wp-post-image").first()).length&&(e=t.find("a.woocommerce-main-image img, img.woocommerce-main-image,a img").not(".thumbnails img,.product_list_widget img").first()),0===e.length&&(e=t.find(".elementor-widget-ae-post-image .wp-post-image").first())),a(e).length>1&&(e=a(e).first()),e}function ft(t){var e=t.main_product,a=t.product_id,i=e.closest("#product-"+a);return i.length<=0&&(i=e.closest(".post-"+a)),i}function ut(e,i,o,r,n,c,l){var d,s,p,m,_,f;for(d in e)if(e.hasOwnProperty(d)&&(d=e[d]).enabled)switch(d.type){case"yith":i?(i.attr("srcset",o).attr("src-orig",o),d.element.data("yith_magnifier")&&d.element.yith_magnifier("destroy"),s={elements:{zoom:a(".yith_magnifier_zoom"),zoomImage:i,gallery:a(".yith_magnifier_gallery li a")}},d.element.yith_magnifier(a.extend(!0,{},t.yith_magnifier_options,s))):(r?d.yith_wcmg_zoom.attr("href",d.yith_wcmg_default_zoom):d.yith_wcmg_zoom.attr("href",d._yith_wcmg_default_zoom),d.element.data("yith_magnifier")&&d.element.yith_magnifier("destroy"),d.element.yith_magnifier(t.yith_magnifier_options));break;case"iosslider":setTimeout(function(t){t.element.iosSlider("update")}.bind(null,d),150);break;case"flexslider":Gt.trigger("resize");break;case"elevatezoom":d.element.each(function(t,e){var a=e(this).data("elevateZoom");void 0!==a&&a.swaptheimage(t,t)}.bind(null,o,a));break;case"easyzoom":d.element.swap(null,o);break;case"easyzoom-flatsome":d.element.swap(o,o);break;case"woocommerce":d.element.flexslider(0),p=d.element,t.setTimeout(function(t,e){t.trigger("woocommerce_gallery_init_zoom"),e.trigger("resize")}.bind(null,p,Gt),10);break;case"zoom":l&&(m=l.find(".woocommerce-product-gallery--with-images").width(),_=!1,d.element.find("img.wp-post-image").attr("data-large_image_width")>m&&(_=!0),_?(f={touch:!1},"ontouchstart"in t&&(f.on="click"),d.element.trigger("zoom.destroy"),d.element.zoom(f)):d.element.trigger("zoom.destroy"))}Gt.trigger("tm_gallery_compatibility_actions",{event_data:n,product_element:l,form:c})}function gt(e,i){var o,r=!1,n=a(".images"),c=a(".yith_magnifier_zoom"),l=n.find(".yith_magnifier_zoom").first().attr("href"),d=n.find(".yith_magnifier_zoom img").first().attr("src"),s=!1,p=a(".iosSlider.product-gallery-slider,.iosSlider.product-slider"),m=!1,_=i.find(".images .fusion-flexslider"),f=e.data("elevateZoom")||!1,u=i.find("div.product-images .woocommerce-main-image"),g=!1,h=i.find(".images .easyzoom"),v=!1,y=i.find(".images .easyzoom"),b=!1,w=i.find(".woocommerce-product-gallery"),k=!1,x=t.wc_single_product_params,F="function"==typeof a.fn.zoom&&x&&x.zoom_enabled,C=!1;return t.yith_magnifier_options&&n.data("yith_magnifier")&&(r=!0),p.length&&p.iosSlider&&(s=!0),_.length&&_.flexslider&&(m=!0),h.length&&h.filter(".images .easyzoom.first").data("easyZoom")&&(h=h.filter(".images .easyzoom.first").data("easyZoom"),g=!0),g||(y=i.find(".images .has-image-zoom .slide")).length&&y.filter(".images .has-image-zoom .slide.first").data("easyZoom")&&(y=y.filter(".images .has-image-zoom .slide.first").data("easyZoom"),v=!0),Gt.on("load",function(){setTimeout(function(){h.length&&h.data("easyZoom")&&(h=h.data("easyZoom"),g=!0),y.length&&y.data("easyZoom")&&(y=y.data("easyZoom"),v=!0)},150)}),w.length&&w.data("flexslider")&&(b=!0,"function"==typeof a.fn.zoom&&x&&x.zoom_enabled&&(o=e.closest(".woocommerce-product-gallery__image")).length>0&&e.width()>a(".woocommerce-product-gallery").width()&&(k=o,e.data.wc27_zoom_target=k)),!b&&F&&(C=i.find(".woocommerce-product-gallery__image")),{is_yith_wcmg:{type:"yith",enabled:r,element:n,yith_wcmg_zoom:c,_yith_wcmg_default_zoom:l,yith_wcmg_default_image:d},is_iosSlider:{type:"iosslider",enabled:s,element:p},is_flexslider:{type:"flexslider",enabled:m,element:_},is_elevateZoom:{type:"elevatezoom",enabled:f,element:u},is_easyzoom:{type:"easyzoom",enabled:g,element:h},is_easyzoom_flatsome:{type:"easyzoom-flatsome",enabled:v,element:y},is_wc27_gallery:{type:"woocommerce",enabled:b,element:w},is_zoom_enabled:{type:"zoom",enabled:!b&&F,element:C}}}function ht(t){var e,i,o,r,n,c,l,d,s=t.this_epo_container,p=t.main_product,m=t.form,_=ft(t),f=[];e=_t(_),i=gt(e,_),a(e).length>0&&(m.on("reset_image.tcpi",function(){a.tc_product_image=a.tc_replace_object_values(a.tc_product_image,a.tc_product_image_store),f=[],a(s.find(".tm-product-image:checked,select.tm-product-image")).add(p.find(".tm-epo-variation-section").find(".tm-product-image:checked,select.tm-product-image")).each(function(){u(o=a(this))&&""!==o.val()&&f.push(o)}),f.length?f[f.length-1].trigger("tm_trigger_product_image"):a.tc_product_image_store=a.tc_populate_store(e,_)}),m.on("found_variation.tcpi",function(){pt(e,_),f=[],a(s.find(".tm-product-image:checked,select.tm-product-image")).add(p.find(".tm-epo-variation-section").find(".tm-product-image:checked,select.tm-product-image")).each(function(){u(o=a(this))&&""!==o.val()&&f.push(o)}),f.length&&(st(e,_),f[f.length-1].trigger("tm_trigger_product_image"))}),a.tc_product_image_store=a.tc_maybe_copy_object_values_from_img(a.tc_product_image_store,e,_),p.off("tm_change_product_image").on("tm_change_product_image",function(t,g){if(r=g.element,n=g.element_current,r&&n){if(c=r.data("imagep"),l=""!==c?"imagep":"image",(d=g.element_current.data("image-variations"))&&(d=d[l]),f=[],a(s.find(".tm-product-image:checked,select.tm-product-image")).add(p.find(".tm-epo-variation-section").find(".tm-product-image:checked,select.tm-product-image")).each(function(){(o=a(this)).is("option")&&(o=o.closest("select")),u(o)&&""!==o.val()&&f.push(o)}),f.length&&!f[f.length-1].is(r))return;mt(d,e,_),ut(i,e,d.image_link,!1,g,m,_)}}),p.off("tm_restore_product_image").on("tm_restore_product_image",function(t,n){r=n.element,f=[],r&&(a(s.find(".tm-product-image:checked,select.tm-product-image")).add(p.find(".tm-epo-variation-section").find(".tm-product-image:checked,select.tm-product-image")).each(function(){u(o=a(this))&&""!==o.val()&&f.push(o)}),f.length&&!f[f.length-1].is(r))?f[f.length-1].trigger("tm_trigger_product_image"):(mt(!1,e,_),ut(i,!1,e.attr("src"),!1,n,m,_))}),f=[],a(s.find(".tm-product-image:checked,select.tm-product-image")).add(p.find(".tm-epo-variation-section").find(".tm-product-image:checked,select.tm-product-image")).each(function(){u(o=a(this))&&""!==o.val()&&f.push(o)}),f.length&&f[f.length-1].trigger("tm_trigger_product_image")),Gt.trigger("tm_product_image_loaded")}function vt(e){var i,o,r,n,c,l,d,s=e.main_product,p=e.product_id,m=e.this_epo_container,_=e.form,f=ft(e),g=[];i=_t(f),o=gt(i,f),a(i).length>0&&(i.data("tm-current-image",!1),r=i.closest("a"),n=i.attr("src"),c=i.width(),l=i.height(),s.off("tm_change_product_image").on("tm_change_product_image",function(e,r){var n,s,m,f,g,h,v,b,w,k,x,F,C,I,A,P=[];s=(n=r.element.closest(".cpf-section")).is(".tm-epo-variation-section"),m=r.epo_holder,s&&(m=n),f=m.find(".tm-product-image:checked,select.tm-product-image"),P=[],g=r.element.attr("id"),h=!0,v=r.main_product,b=v.closest("#product-"+p),w=c,k=l,F=a("<div class='blockUI blockOverlay tm-preloader-img'></div>"),b.length<=0&&(b=v.closest(".post-"+p)),0===(x=b.find("#"+g+"_tmimage")).length&&(x=i),A=function(){F.remove(),_.tc_image_update(!1),i.data("tm-current-image",!1),b.find(".tm-clone-product-image").hide(),i.show()},r.src===x.attr("src")&&x.is(":visible")||(!1!==r.src?(F.css({width:w,height:k}),f.each(function(){u(d=a(this))&&ot(d)&&y({element:d.closest(".cpf_hide_element"),operator:"isnotempty",value:""})&&P.push(d)}),P.length&&(f=P[P.length-1]),f.attr("id")!==r.element.attr("id")&&(h=!1),C=i.tcClone(),I=new Image,C.removeAttr("data-o_src").removeAttr("data-o_title").removeAttr("data-o_alt").removeAttr("data-o_srcset").removeAttr("data-o_sizes").removeAttr("srcset").removeAttr("sizes"),h&&i.before(F),o.is_yith_wcmg.yith_wcmg_default_zoom=o.is_yith_wcmg.element.find(".yith_magnifier_zoom").first().attr("href"),o.is_yith_wcmg.yith_wcmg_default_image=o.is_yith_wcmg.element.find(".yith_magnifier_zoom img").first().attr("src"),I.onerror=function(){A()},I.onload=function(){if("naturalHeight"in this){if(this.naturalHeight+this.naturalWidth===0)return void this.onerror()}else if(this.width+this.height===0)return void this.onerror();b.find("#"+g+"_tmimage").remove(),b.find(".tm-clone-product-image").hide(),C.prop("src",I.src).hide(),i.hide().after(C),C.css("opacity",0).show(),ut(o,C,I.src),F.animate({opacity:0},750,"easeOutExpo",function(){F.remove()}),C.animate({opacity:1},t.tc_epo_image_animation_delay||1500,"easeOutExpo",function(){}),Gt.trigger("tm_change_product_image_loaded",{src:r.src,element:r.element,main_product:r.main_product,epo_holder:r.epo_holder})},C.attr("id",g+"_tmimage").addClass("tm-clone-product-image").hide(),C.attr("src-orig")&&C.attr("src-orig",r.src),h?(I.src=r.src,_.tc_image_update(r.element,C),i.data("tm-current-image",g),Gt.trigger("tm_change_product_image_show",{src:r.src,element:r.element,main_product:r.main_product,epo_holder:r.epo_holder})):(C.prop("src",r.src).hide(),i.after(C)),Gt.trigger("tm_change_product_image_end",{src:r.src,element:r.element,main_product:r.main_product,epo_holder:r.epo_holder})):A())}),s.off("tm_restore_product_image").on("tm_restore_product_image",function(t,e){var a,c,l,d,s,m,f,u,g,h,v,y,b,w;if(Gt.trigger("tm_restore_product_image_pre",{element:e.element,main_product:e.main_product,epo_holder:e.epo_holder}),a=e.element.attr("id"),c=e.main_product,l=c.closest("#product-"+p),d=e.element.closest(".cpf-section"),s=d.is(".tm-epo-variation-section"),u=!1,y=n,b=e.epo_holder,s&&(b=d),l.length<=0&&(l=c.closest(".post-"+p)),g=l.find("#"+a+"_tmimage").is(":visible"),l.find("#"+a+"_tmimage").remove(),0===l.find(".tm-clone-product-image").length)i.show(),i.data("tm-current-image",!1),_.tc_image_update(!1);else{if(!g)return void Gt.trigger("tm_restore_product_image_loaded_exit",{element:e.element,main_product:e.main_product,epo_holder:e.epo_holder});for(h=l.find(".tm-clone-product-image").length,a=i.data("tm-current-image"),w=h-1;w>=0;w-=1){if(f=l.find(".tm-clone-product-image").eq(w),m=f.attr("id").replace("_tmimage",""),(v=b.find("[id='"+m+"']")).is(":checked")&&v.closest(".cpf_hide_element").is(":visible")){l.find(".tm-clone-product-image").eq(w).show(),r.attr("href",l.find(".tm-clone-product-image").eq(w).prop("src")),i.data("tm-current-image",m),u=!0;break}l.find(".tm-clone-product-image").eq(w).hide()}u?l.find("#"+a+"_tmimage").remove():(i.show(),i.data("tm-current-image",!1),_.tc_image_update(!1))}u&&(y=f.attr("src")),ut(o,!1,y,l.find(".tm-clone-product-image").filter(":visible").length),Gt.trigger("tm_restore_product_image_loaded",{element:e.element,main_product:e.main_product,epo_holder:e.epo_holder})}),s.off("tm_attempt_product_image").on("tm_attempt_product_image",function(t,e){var c,l,s,m,f,g,h,v,b,w,k,x,F,C,I,A,P;if(c=e.main_product,l=c.closest("#product-"+p),s=e.element?e.element.closest(".cpf-section"):a(c.find(".tm-epo-variation-section"),e.epo_holder),m=s.is(".tm-epo-variation-section"),f=e.epo_holder,m&&(f=s),g=f.find(".tm-product-image:checked,select.tm-product-image"),h=[],v="",k=!1,x=i.data("tm-current-image"),C=n,l.length<=0&&(l=c.closest(".post-"+p)),f=c.find(".tm-epo-variation-section").add(e.epo_holder),(g=f.find(".tm-product-image:checked,select.tm-product-image")).each(function(){u(d=a(this))&&ot(d)&&y({element:d.closest(".cpf_hide_element"),operator:"isnotempty",value:""})&&h.push(d)}),h.length&&(v=(g=h[h.length-1]).attr("id")),!h.length||!g.length||x&&v===x){if(A=f.find("[id='"+x+"']").closest(".cpf_hide_element"),x&&(!1===A.data("isactive")||!1===A.closest(".cpf-section").data("isactive"))){if(l.find("#"+x+"_tmimage").remove(),0===(F=l.find(".tm-clone-product-image").length))i.show(),i.data("tm-current-image",!1),_.tc_image_update(!1);else{for(P=F-1;P>=0;P-=1){if(b=l.find(".tm-clone-product-image").eq(P),w=b.attr("id").replace("_tmimage",""),(I=f.find("[id='"+w+"']")).is(":checked")&&I.closest(".cpf_hide_element").is(":visible")){l.find(".tm-clone-product-image").eq(P).show(),r.attr("href",l.find(".tm-clone-product-image").eq(P).prop("src")),i.data("tm-current-image",w),k=!0;break}l.find(".tm-clone-product-image").eq(P).hide()}k||(i.show(),i.data("tm-current-image",!1),_.tc_image_update(!1))}k&&(C=b.attr("src")),ut(o,!1,C,l.find(".tm-clone-product-image").filter(":visible").length)}}else g.last().trigger("tm_trigger_product_image")}),a(m.find(".tm-product-image:checked,select.tm-product-image")).add(s.find(".tm-epo-variation-section").find(".tm-product-image:checked,select.tm-product-image")).each(function(){u(d=a(this))&&""!==d.val()&&g.push(d)}),g.length&&g[g.length-1].trigger("tm_trigger_product_image")),Gt.trigger("tm_product_image_loaded")}function yt(e){setTimeout(function(){"inline"===Ht.tm_epo_global_product_image_mode?vt(e):ht(e)},t.tc_epo_product_image_setup_delay||0)}function bt(t){Gt.trigger("tm-epo-compatibility",{epo:t})}function wt(t){Ut&&t.find(".tm-range-picker").toArray().forEach(function(e){var i,o=a(e),r=o.attr("data-step").split("."),n=t.find("#"+a.epoAPI.dom.id(o.attr("data-field-id"))),c=parseFloat(o.attr("data-min")),l=parseFloat(o.attr("data-max")),d=parseFloat(o.attr("data-start")),s=parseFloat(o.attr("data-step")),p=o.attr("data-show-picker-value"),m=o.closest("li").find(".tm-show-picker-value"),_=parseFloat(o.attr("data-noofpips")),f=null;r=1===r.length?0:r[1].length,Number.isFinite(c)||(c=0),Number.isFinite(l)||(l=0),l<=c&&(l=parseFloat(l)+1),d=a.epoAPI.math.unformat(d,Bt.localDecimalSeparator),Number.isFinite(d)||(d=0),d=a.epoAPI.math.format(d,{decimal:Bt.localDecimalSeparator,thousand:Bt.localThousandSeparator,precision:r}),Number.isFinite(s)||(s=0),Number.isFinite(_)||(_=10),_<2&&(_=2),"yes"===o.attr("data-pips")&&(f={mode:"count",values:_,filter:function(t,e){return t=parseFloat(a.epoAPI.math.toFixed(t,r)),s<=0?0:1!==e||Number.isInteger(t)?e:2},format:{from:function(t){return a.epoAPI.math.unformat(t,Bt.localInputDecimalSeparator)},to:function(t){return a.epoAPI.math.format(t,{decimal:Bt.localDecimalSeparator,thousand:Bt.localThousandSeparator,precision:r})}},density:2}),Ut.create(o.get(0),{direction:Ht.text_direction,start:d,step:s,connect:"lower",behaviour:"tap",format:{from:function(t){return a.epoAPI.math.unformat(t,Bt.localInputDecimalSeparator)},to:function(t){return a.epoAPI.math.format(t,{decimal:Bt.localDecimalSeparator,thousand:Bt.localThousandSeparator,precision:r})}},range:{min:[c],max:[l]},pips:f}),i=o.find(".noUi-handle-lower"),o.get(0).noUiSlider.on("slide",function(){i.trigger("tmmovetooltip"),n.trigger("change.cpf")}),o.get(0).noUiSlider.on("update",function(t,e){t[e]=a.epoAPI.math.unformat(t[e],Bt.localDecimalSeparator),e=0,"left"!==p&&"right"!==p&&i.attr("title",a.epoAPI.math.format(t[e],{decimal:Bt.localDecimalSeparator,thousand:Bt.localThousandSeparator,precision:r})),n.val(t[e]).trigger("change"),""!==p&&m.html(a.epoAPI.math.format(t[e],{decimal:Bt.localDecimalSeparator,thousand:Bt.localThousandSeparator,precision:r}))}),""!==p&&m.html(d),"left"!==p&&"right"!==p&&(i.attr("title",d),a.tcToolTip(i))})}function kt(t,e){var i,o=a(e),r=a.tm_datepicker._getInst(o[0]),n=o.data("tc-enabled_only_dates"),c=o.data("tc-disabled_weekdays"),l=o.data("tc-disabled_dates"),d=o.data("tc-format"),s=t.getDay();return!!a.tm_datepicker._isInRange(r,t)&&(""!==n?(i=a.tm_datepicker.formatDate(d,t),-1!==n.indexOf(i)):-1===c.indexOf(s.toString())&&(""===l||(i=a.tm_datepicker.formatDate(d,t),-1===l.indexOf(i))))}function xt(i){var o;a.tm_datepicker&&(o=a("input").map(function(){return this.id}).get().join(" "),i.find(".tm-epo-timepicker").toArray().forEach(function(t){var e=a(t),i=null,r=null,n=e.attr("data-time-format").trim(),c=e.attr("data-time-theme").trim(),l=e.attr("data-time-theme-size").trim(),d=e.attr("data-time-theme-position").trim(),s=e.attr("data-tranlation-hour").trim(),p=e.attr("data-tranlation-minute").trim(),m=e.attr("data-tranlation-second").trim();""!==e.attr("data-min-time").trim()&&(i=e.attr("data-min-time").trim()),""!==e.attr("data-max-time").trim()&&(r=e.attr("data-max-time").trim()),""!==e.attr("data-custom-time-format").trim()&&(n=e.attr("data-custom-time-format").trim()),s||(s=Ht.hourText),p||(p=Ht.minuteText),m||(m=Ht.secondText),e.tm_timepicker({isRTL:Ht.isRTL,hourText:s,minuteText:p,secondText:m,timeFormat:n,minTime:i,maxTime:r,closeText:Ht.closeText,showOn:"both",buttonText:"",beforeShow:function(t,i){a(i.dpDiv).removeClass(o).removeClass("tm-datepicker-normal tm-datepicker-top tm-datepicker-bottom").addClass(this.id+" tm-bsbb-all tm-ui-skin-"+c+" tm-timepicker tm-datepicker tm-datepicker-"+d+" tm-datepicker-"+l).appendTo("body"),Jt.off("click",".tm-ui-dp-overlay").on("click",".tm-ui-dp-overlay",function(){e.tm_timepicker("hide")}),Qt.addClass("tm-static"),e.prop("readonly",!0),Gt.trigger({type:"tm-timepicker-beforeShow",input:t,inst:i})},onClose:function(){Qt.removeClass("tm-static"),e.prop("readonly",!1),e.trigger("change")}}),a("#ui-tm-datepicker-div").hide()}),i.find(".tm-epo-datepicker").toArray().forEach(function(t){var e,r,n=a(t),c=parseInt(n.attr("data-start-year").trim(),10),l=parseInt(n.attr("data-end-year").trim(),10),d=n.attr("data-min-date").trim(),s=n.attr("data-max-date").trim(),p=n.attr("data-disabled-dates").trim(),m=n.attr("data-enabled-only-dates").trim(),_=n.attr("data-disabled-weekdays").trim().split(","),f=n.attr("data-date-format").trim(),u=n.attr("data-date-showon").trim(),g=n.attr("data-date-defaultdate").trim(),h=n.attr("data-date-theme").trim(),v=n.attr("data-date-theme-size").trim(),y=n.attr("data-date-theme-position").trim();""!==p&&(e=p.split(","),-1!==p.indexOf(",")&&e.length>0&&(p=e)),""!==m&&(r=m.split(","),-1!==m.indexOf(",")&&r.length>0&&(m=r)),""===d?d=""===c?null:new Date(c,0,1):!d.isNumeric()&&Number.isFinite(new Date(d).getTime())&&(d=new Date(d)),""===s?s=""===l?null:new Date(l,11,31):!s.isNumeric()&&Number.isFinite(new Date(s).getTime())&&(s=new Date(s)),n.data("tc-enabled_only_dates",m),n.data("tc-disabled_weekdays",_),n.data("tc-disabled_dates",p),n.data("tc-format",f),n.tm_datepicker({monthNames:Ht.monthNames,monthNamesShort:Ht.monthNamesShort,dayNames:Ht.dayNames,dayNamesShort:Ht.dayNamesShort,dayNamesMin:Ht.dayNamesMin,isRTL:Ht.isRTL,showOtherMonths:!0,selectOtherMonths:!0,showOn:u,defaultDate:g,buttonText:"",showButtonPanel:!0,firstDay:Ht.first_day,closeText:Ht.closeText,currentText:Ht.currentText,dateFormat:f,minDate:d,maxDate:s,onSelect:function(){var t,e,o=a(this),r="#"+a.epoAPI.dom.id(o.attr("id")),n=o.tm_datepicker("getDate"),c="",l="",d="",s=i.find(r+"_day"),u=i.find(r+"_month"),g=i.find(r+"_year");n&&(c=n.getDate(),l=n.getMonth()+1,d=n.getFullYear(),t=a.tm_datepicker.formatDate(f,n),(-1!==_.indexOf(n.getDay().toString())||-1!==p.indexOf(t)||""!==m&&-1===m.indexOf(t))&&(e=o.data("tm-last-date"),e=o.data("tm-last-date")?o.data("tm-last-date"):"",o.val(e),o.tm_datepicker("setDate",e),e?(c=(n=o.tm_datepicker("getDate")).getDate(),l=n.getMonth()+1,d=n.getFullYear()):(c="",l="",d=""))),s.val(c),u.val(l),g.val(d),o.data("tm-last-date",o.val())},beforeShow:function(t,e){a(e.dpDiv).removeClass(o).removeClass("tm-datepicker-normal tm-datepicker-top tm-datepicker-bottom").addClass(this.id+" tm-bsbb-all tm-ui-skin-"+h+" tm-datepicker tm-datepicker-"+y+" tm-datepicker-"+v).appendTo("body"),Jt.off("click",".tm-ui-dp-overlay").on("click",".tm-ui-dp-overlay",function(){n.tm_datepicker("hide")}),Jt.off("click",".ui-tm-datepicker-current").on("click",".ui-tm-datepicker-current",function(){var t,i=new Date,o=a.tm_datepicker._daylightSavingAdjust(new Date(i.getFullYear(),i.getMonth(),i.getDate())),r=o.getDay(),c="#"+e.id.replace(/\\\\/g,"\\"),l=!1,d=n.tm_datepicker("getDate");if(""!==m)t=a.tm_datepicker.formatDate(f,d),l=-1!==m.indexOf(t);else if(-1!==_.indexOf(r.toString()))l=!1;else{if(""!==p)return t=a.tm_datepicker.formatDate(f,d),[-1===p.indexOf(t),""];l=!0}l&&(a.tm_datepicker._setDate(e,o),a.tm_datepicker._gotoToday(c))}),Qt.addClass("tm-static"),n.prop("readonly",!0),Gt.trigger({type:"tm-datepicker-beforeShow",input:t,inst:e})},onClose:function(){Qt.removeClass("tm-static"),n.prop("readonly",!1),n.removeAttr("readonly"),n.trigger("change")},beforeShowDay:function(t){var e,i=t.getDay();return""!==m?(e=a.tm_datepicker.formatDate(f,t),[-1!==m.indexOf(e),""]):-1!==_.indexOf(i.toString())?[!1,""]:""!==p?(e=a.tm_datepicker.formatDate(f,t),[-1===p.indexOf(e),""]):[!0,""]}}),a("#ui-tm-datepicker-div").hide()}),i.find(".tmcp-date-select").on("change.cpf",function(){var t="#"+a.epoAPI.dom.id(a(this).attr("data-tm-date")),e=i.find(t),o=e.attr("data-date-format"),r=i.find(t+"_day").val(),n=i.find(t+"_month").val(),c=i.find(t+"_year").val(),l=a.tm_datepicker.formatDate(o,new Date(c,parseInt(n,10)-1,r));r>0&&n>0&&c>0?(e.tm_datepicker("setDate",l),e.trigger("change")):(e.val(""),e.trigger("change.cpf"))}).on("focus.cpf",function(){var e="#"+a.epoAPI.dom.id(a(this).attr("data-tm-date")),o=i.find(e),r=i.find(e+"_day"),n=i.find(e+"_month"),c=i.find(e+"_year"),l=r.val(),d=n.val(),s=c.val(),p=a(this);""!==s&&""!==d&&""!==l||""!==s&&""!==d&&""===l||""!==l&&""!==s&&""===d||""!==l&&""!==d&&""===s?p.find("option").toArray().forEach(function(e){var i,r=a(e),n=r.val(),c=s+"-"+d+"-"+l;if(p.is(".tmcp-date-day")){if(""===s||""===d)return;c=s+"-"+d+"-"+n}else if(p.is(".tmcp-date-month")){if(""===s||""===l)return;c=s+"-"+n+"-"+l}else if(p.is(".tmcp-date-year")){if(""===l||""===d)return;c=n+"-"+d+"-"+l}if(""!==n)try{(i=a.tm_datepicker.parseDate("yy-mm-dd",c))&&(kt(i,o)?r.prop("disabled",!1):r.prop("disabled",!0))}catch(e){t.console.log(e),r.prop("disabled",!0),Ot=e}}):(r.find("option").prop("disabled",!1),n.find("option").prop("disabled",!1),c.find("option").prop("disabled",!1))}),Gt.on("resizestart",function(){var i=a(e.activeElement);if(i.is(".hasDatepicker")){if(i.data("resizestarted",!0),a(t).width()<768)return void i.data("resizewidth",!0);i.tm_datepicker("hide")}}),Gt.on("resizestop",function(){var t=a(e.activeElement);t.is(".hasDatepicker")&&t.data("resizestarted")&&(t.data("resizewidth")&&t.tm_datepicker("hide"),t.tm_datepicker("show")),t.data("resizestarted",!1),t.data("resizewidth",!1)}))}function Ft(t){var e,i=t.epoEventId,o=t.main_product,r=!a.tcepo.formSubmitEvents[i].some(function(t){return typeof t&&("function"==typeof t.trigger||!1)&&!t.trigger()});return a.tcepo.formSubmitEvents[i].forEach(function(t){"object"===(e=typeof t)&&(r?t.on_true():t.on_false())}),r||setTimeout(function(){o.find(Bt.addToCartButtonSelector).first().removeClass("disabled").removeClass("loading").removeAttr("disabled").removeClass("fpd-disabled")},100),Gt.trigger("tm-apply-submit-events",{epo:{form_is_submit:r}}),r}function Ct(t){var e,i,o=t.form,r=t.this_epo_container,n=t.main_product,c=t.epoEventId;return"yes"===Ht.tm_epo_global_enable_validation&&(e={},r.find(".tmcp-ul-wrap").toArray().forEach(function(t){var o,r;t=a(t),(i=t.data("tm-validation"))&&"object"===a.tmType(i)&&(r=(o=t.find(".tm-epo-field")).first().attr("name"),t.is(".tm-extra-product-options-radio.tm-element-ul-radio")&&(r=o.last().attr("name")),t.is(".tm-extra-product-options-checkbox.tm-element-ul-checkbox")?o.each(function(r,n){"required"in i&&(i.required=function(e){var i=t.find("input.tm-epo-field.tmcp-checkbox:checked").length;return 0===i?o.last().attr("name")===a(e).attr("name"):i<=0}),e[a(n).attr("name")]=i}):e[r]=i)}),o.removeData("tc_validator"),o.tc_validate({focusInvalid:!1,ignore:Bt.qtySelector+",#wc_bookings_field_duration,input.tm-qty:hidden[type='number'],input.input-text.qty,.ignore,.variations select,.tm-extra-product-options-variations input,.tm-extra-product-options-variations select,input:not(.tc-extra-product-options input),select:not(.tc-extra-product-options select)",rules:e,errorClass:"tm-error",validClass:"tm-valid",errorElement:"label",errorPlacement:function(t,e){return e.is(".tm-epo-field.tmcp-radio")||e.is(".tm-epo-field.tmcp-checkbox")||e.is(".tm-epo-field.tmcp-radio")?t.appendTo(e.closest(".tmcp-ul-wrap").parent()):t.appendTo(e.closest(".tmcp-field-wrap")),!1},invalidHandler:function(t,e){Gt.trigger("tm-invalidHandler",{epo:{validator:e}}),setTimeout(function(){n.find(Bt.addToCartButtonSelector).first().removeClass("disabled").removeClass("loading").removeAttr("disabled").removeClass("fpd-disabled")},100),e.errorList&&e.errorList[0]&&e.errorList[0].element&&L(a(e.errorList[0].element),c)},submitHandler:function(){return t.is_quickview||n.find(Bt.addToCartButtonSelector).first().addClass("disabled"),Ft(t)}}),!0)}function It(t){var e=t.form,i=t.epoEventId;Gt.trigger("tm-from-submit",{epo:t,functions:{tm_apply_validation:Ct,apply_submit_events:Ft}}),!Ct(t)&&a.tcepo.formSubmitEvents[i].length&&e.on("submit",function(){Ft(t)})}function At(t){var e,i=t.totalsHolder,o=t.totalsHolderContainer,r=t.currentCart,n=t.variationForm,c=t.variation,l=i.data("variations");i.data("current_variation",c),l&&c&&c.variation_id&&void 0!==l[c.variation_id]?(e=l[c.variation_id],i.data("price",e),i.removeData("tcprice")):c&&"display_price"in c?(e=c.display_price,i.data("price",e),i.data("priceIsWithDiscount","1"),i.removeData("tcprice")):c&&a(c.price_html).find(".amount:last").length&&(e=(e=(e=(e=a(c.price_html).find(".amount:last").text()).replace(Ht.currency_format_thousand_sep,"")).replace(Ht.currency_format_decimal_sep,".")).replace(/[^0-9.]/g,""),e=parseFloat(e),i.data("price",e),i.removeData("tcprice")),o.find(".cpf-product-price").val(e),n.data("tm-styled-variations")||r.trigger({type:"tm-epo-update"})}function Pt(t,e,i,o,r){return i||(i=0),o||(o=[]),t.find(e).filter(".tcenabled").toArray().forEach(function(t){var e,n,c,l,d,s,p,m,_=a(t),f="",u=_.closest(".cpf_hide_element"),g=_.closest(".tmcp-field-wrap"),h=u.attr("data-fblabelshow"),v=u.attr("data-fbvalueshow"),y="",b=g.find(".tm-qty").val();""===h&&(y=u.find(".tm-epo-element-label").html()),void 0===b&&(b=""),_.is(":checkbox, :radio, :input")&&(n=0,c=0,_.is(".tmcp-checkbox, .tmcp-radio")?_.is(":checked")?(n=_.data("raw_price"),c=_.data("price"),r=!0,_.data("isset",1),d=(l=_.closest("li.tmcp-field-wrap")).find(".checkbox_image,.radio_image"),f="",(s=_.closest("li.tmcp-field-wrap").find(".tm-label")).length&&(f=s.html()),d.length&&(f+=d.clone().addClass("tc-img-floating")[0].outerHTML),_.is(".use_images")&&(f=l.find(".tc-label").first().html(),d.length&&(f=f+'<img class="tc-img-floating" src="'+_.attr("data-image")+'"')),o.push({title:y,value:f,price:c,quantity:b,label_show:h,value_show:v})):_.data("isset",0):_.is(".tmcp-select")?(n=_.find("option:selected").data("raw_price"),c=_.find("option:selected").data("price"),""===(p=_.children("option:selected")).val()&&""===p.attr("data-rulestype")||(r=!0),_.find("option").data("isset",0),_.find("option:selected").data("isset",1),""===_.find("option:selected").val()&&""===_.find("option:selected").attr("data-rulestype")||(f=_.find("option:selected").attr("data-text"),o.push({title:y,value:f,price:c,quantity:b,label_show:h,value_show:v}))):(e=_.val(),_.is("[type='file']")&&(e=e.replace("C:\\fakepath\\","")),e?_.is(".tmcp-range")&&"0"===e?_.data("isset",0):(n=_.data("raw_price"),c=_.data("price"),r=!0,_.data("isset",1),f=e,_.is(".tmcp-range")&&(m=1===(m=a(".tm-range-picker[data-field-id='"+_.attr("id")+"']").attr("data-step").split(".")).length?0:m[1].length,f=a.epoAPI.math.format(f,{decimal:Bt.localDecimalSeparator,thousand:Bt.localThousandSeparator,precision:m})),o.push({title:y,value:f,price:c,quantity:b,label_show:h,value_show:v})):_.data("isset",0)),n||(n=0),c||(c=0),i=parseFloat(i)+parseFloat(n))}),{total:i,floatingBoxData:o,showTotal:r}}function qt(e,n,l){var f,u,g,h,v,y,b,w,k,x=e.product_id,F=e.main_product,C=e.main_cart,P=e.this_epo_container,q=e.this_totals_container,S=e.this_epo_totals_container,E=e.epoEventId,z=e.has_epo,j=e.main_epo_inside_form,N=e.epo_id_selector,B=e.epo_id,L=e.product_id_selector,R="main";l&&n?(R=a.epoAPI.applyFilter("tc_get_item_id",n.attr("data-item_id"),n),f=F.find(".tm-extra-product-options.tm-cart-"+R),u=F.find(".tm-totals-form-"+R),g=F.find(".tm-epo-totals.tm-cart-"+R)):(C&&0!==C.length||(C=P.is(".tc-shortcode")?F:D(F,F,"form",x)),n=C.parent(),f=P,u=q,g=S),h=l||C,g.data("tm_for_cart",h),v=d(h),w=m(h),g.data("variationIdElement",s(h,".wceb_picker_wrap "+v)),g.data("qty_element",w),y=g.data("type"),(b=n.find(".variations_form")).data("tc_product_id",x),k=g.attr("data-tm-epo-final-total-box"),Gt.on("epoCalculateRules",function(t,a){t&&a&&a.currentCart&&Y(e,a.currentCart)}),f.find("select.tm-epo-field").off("tm-select-change-html").on("tm-select-change-html",function(){var t,e,i,o,r,n;l&&C&&void 0!==C.data("per_product_pricing")&&!C.data("per_product_pricing")||(e=c((t=a(this)).find("option:selected").data("price"),g,!1,!1,t),i=c(t.find("option:selected").data("original_price"),g,!1,!1,t),o=t.closest(".tmcp-field-wrap").find(".tc-tooltip"),r=t.closest(".tmcp-field-wrap").find(".tc-inline-description"),A(t.closest(".tmcp-field-wrap").find(".tc-price"),t.find("option:selected").data("price"),e,t.find("option:selected").data("original_price"),i),o.length>0&&o.attr("data-tm-tooltip-html",t.find("option:selected").attr("data-tm-tooltip-html")).trigger("tc-tooltip-html-changed"),r.length>0&&(t.find("option:selected").attr("data-tm-tooltip-html")?r.html(t.find("option:selected").attr("data-tm-tooltip-html")):r.html("")),"0"!==t.find("option:selected").attr("data-hide-amount")&&"yes"!==Ht.tm_epo_show_price_inside_option_hidden_even||"yes"!==Ht.tm_epo_show_price_inside_option||!t.find("option:selected").attr("data-text")||("yes"===Ht.tm_epo_auto_hide_price_if_zero&&!1===a.tmempty(t.find("option:selected").data("price"))||"yes"!==Ht.tm_epo_auto_hide_price_if_zero&&""!==t.find("option:selected").attr("data-price"))&&(n="",t.find("option:selected").html(t.find("option:selected").attr("data-text")+" ("+n+e+")")),""===t.val()?o.addClass("tm-hidden"):t.find("option:selected").attr("data-tm-tooltip-html")?o.removeClass("tm-hidden"):o.addClass("tm-hidden"))}).off("tm-select-change-html-all").on("tm-select-change-html-all",function(){var t,i,o,r,n,d;l&&C&&void 0!==C.data("per_product_pricing")&&!C.data("per_product_pricing")||(i=(t=a(this)).closest(".tmcp-field-wrap").find(".tc-tooltip"),o=t.closest(".tmcp-field-wrap").find(".tc-inline-description"),i.length>0&&i.attr("data-tm-tooltip-html",t.find("option:selected").attr("data-tm-tooltip-html")).trigger("tc-tooltip-html-changed"),o.length>0&&(t.find("option:selected").attr("data-tm-tooltip-html")?o.html(t.find("option:selected").attr("data-tm-tooltip-html")):o.html("")),"yes"===Ht.tm_epo_show_price_inside_option&&t.find("option").each(function(){if(!(r=a(this)).val())return!0;r.removeClass("tm-epo-late-field").removeData("tm-price-for-late islate"),V(e,t,void 0,r,1),n=1,"yes"!==Ht.tm_epo_multiply_price_inside_option&&(n=t.data("tm-quantity")),n||(n=1),d=c(r.data("price")/n,g,!0,!1,t),"0"!==r.attr("data-hide-amount")&&"yes"!==Ht.tm_epo_show_price_inside_option_hidden_even||!r.attr("data-text")||("yes"===Ht.tm_epo_auto_hide_price_if_zero&&!1===a.tmempty(r.data("price"))||"yes"!==Ht.tm_epo_auto_hide_price_if_zero&&""!==r.attr("data-price"))&&r.html(r.attr("data-text")+" ("+d+")")}),""===t.val()?i.addClass("tm-hidden"):t.find("option:selected").attr("data-tm-tooltip-html")?i.removeClass("tm-hidden"):i.addClass("tm-hidden"))}).off("tm-select-change").on("tm-select-change",function(){var t;l&&C&&void 0!==C.data("per_product_pricing")&&!C.data("per_product_pricing")||((t=a(this)).trigger("tm-select-change-html"),t.trigger("tm-select-change-html-all"),h.trigger({type:"tm-epo-update",norules:1,element:t}))}),f.off("focus.cpf",".tm-quantity .tm-qty").on("focus.cpf",".tm-quantity .tm-qty",function(){var t=a(this),e=t.closest(".tmcp-field-wrap").find(".tm-epo-field"),i=parseFloat(t.val()),o=parseFloat(t.attr("max")),r=parseFloat(t.attr("min")),n=t.attr("step"),c=M(e,!1),l=U(e,!1),d=!0;i&&""!==i&&"NaN"!==i||(i=0),""!==o&&"NaN"!==o||(o=""),""!==r&&"NaN"!==r||(r=0),"any"!==n&&""!==n&&void 0!==n&&"NaN"!==parseFloat(n)||(n=1),(i<r||i>o)&&(d=!1),c&&l&&d?t.data("tm-prev-value",i):t.data("tm-prev-value",r)}).off("change.cpf",".tm-quantity .tm-qty").on("change.cpf",".tm-quantity .tm-qty",function(){var t=a(this),e=t.closest(".tmcp-field-wrap").find(".tm-epo-field"),i=parseFloat(t.val()),o=parseFloat(t.attr("max")),r=parseFloat(t.attr("min")),n=t.attr("step"),c=M(e,!1),l=U(e,!1),d=!0;i&&""!==i&&"NaN"!==i||(i=0),""!==o&&"NaN"!==o||(o=""),""!==r&&"NaN"!==r||(r=0),"any"!==n&&""!==n&&void 0!==n&&"NaN"!==parseFloat(n)||(n=1),(i<r||i>o)&&(d=!1),c&&l&&d?(e.data("tm-quantity",t.val()).trigger("change.cpf"),e.trigger("tm-select-change-html-all")):t.data("tm-prev-value")?t.val(t.data("tm-prev-value")):t.val(r)}).off("tmaddquantity",".tm-quantity .tm-qty").on("tmaddquantity",".tm-quantity .tm-qty",function(){var t=a(this);t.closest(".tmcp-field-wrap").find(".tm-epo-field").data("tm-quantity",t.val())}),f.find(".tmcp-textfield.tm-epo-field[maxlength],textarea.tm-epo-field[maxlength]").each(function(){var t=a(this),e=a.epoAPI.template.html(Bt.templateEngine.tc_chars_remanining,{maxlength:t.attr("maxlength"),characters_remaining:Ht.i18n_characters_remaining});t.after(a(e))}),f.find("input.tm-epo-field[maxlength],textarea.tm-epo-field[maxlength]").off("change.tc_maxlen keyup.tc_maxlen").on("change.tc_maxlen keyup.tc_maxlen",function(){var t=a(this);t.closest(".tmcp-field-wrap").find(".tc-chars-remanining").html(parseInt(t.attr("maxlength"),10)-parseInt(t.val().length,10))}),f.find(".tm-epo-field").off("tm_trigger_product_image").on("tm_trigger_product_image",function(){var t,e,i,o,r=a(this);r.is(".tm-product-image:checkbox, .tm-product-image:radio, select.tm-product-image")?(e=r.closest(".tmcp-field-wrap").find("label img"),i=r.closest(".cpf-section").is(".tm-epo-variation-section"),t=r,r.is("select.tm-product-image")&&(t=r.children("option:selected")),(a(e).length>0||i&&void 0!==t.attr("data-image")||void 0!==t.attr("data-image")&&""!==t.attr("data-image")||void 0!==t.attr("data-imagep")&&""!==t.attr("data-imagep"))&&(r.is(":checked")||r.is("select.tm-product-image")&&""!==r.val()&&(""!==r.find("option:selected").attr("data-rules")||r.is(".tm-epo-variation-element")))?((o=a(e).first().attr("data-original"))||i||(o=a(e).first().attr("src")),o||(o=t.attr("data-image")),t.attr("data-imagep")&&(o=t.attr("data-imagep")),o?F.trigger("tm_change_product_image",{src:o,element:r,element_current:t,main_product:F,epo_holder:f}):F.trigger("tm_change_product_image",{src:!1,element:r,element_current:t,main_product:F,epo_holder:f})):F.trigger("tm_restore_product_image",{element:r,element_current:t,main_product:F,epo_holder:f})):F.trigger("tm_attempt_product_image",{element:r,element_current:t,main_product:F,epo_holder:f})}),f.find(".tm-quantity").off("showhide.cpfcustom").on("showhide.cpfcustom",function(){var t,e,i,o=a(this),r=o.closest(".tmcp-field-wrap").find(".tm-epo-field"),n=!1;r.is(".tm-epo-variation-element")||(r.is("select")?""!==r.val()&&(n=!0):r.is(":checkbox")?r.is(":checked")&&(n=!0):r.is(":radio")?r.is(":checked")&&(n=!0,"yes"===Ht.tm_epo_show_only_active_quantities&&r.closest(".cpf_hide_element").find(".tm-epo-field.tmcp-radio").each(function(){a(this).closest(".tmcp-field-wrap").find(".tm-quantity").hide()})):r.val()&&(n=!0),e=(t=o.find(".tm-qty")).val(),i=t.attr("min")||"",n?("yes"===Ht.tm_epo_show_only_active_quantities&&o.show(),t.removeClass("ignore").prop("disabled",!1)):("yes"===Ht.tm_epo_show_only_active_quantities&&(o.hide(),e||t.val(i)),t.addClass("ignore").prop("disabled",!0)),setTimeout(function(){o.closest(".tcowl-carousel").trigger("refresh.owl.carousel")},200))}),f.find(".tm-epo-field").off("change.cpfcustom").on("change.cpfcustom",function(){a(this).closest(".tmcp-field-wrap").find(".tm-quantity").trigger("showhide.cpfcustom")}),f.find(".tm-epo-field").filter(":checkbox:checked, :radio:checked").each(function(){a(this).closest(".tmcp-field-wrap").addClass("tc-active")}),f.find(".tm-epo-field").off("change.cpf").on("change.cpf",function(){var t,e=a(this),i=e.closest(".tmcp-field-wrap"),o=e.closest(".tmcp-ul-wrap");e.is(":checkbox, :radio")&&(e.is(":radio")&&o.find(".tmcp-field-wrap").removeClass("tc-active"),e.is(":checked")?i.addClass("tc-active"):i.removeClass("tc-active")),e.is(".tm-epo-variation-element")||(e.is(".use_images:checkbox, .use_images:radio")&&e.attr("data-imagec")&&(t=i.find(".radio_image,.checkbox_image").first()).length>0&&(e.is(":checked")?t.prop("src",e.attr("data-imagec")):t.prop("src",e.attr("data-image"))),e.is(".use_images:radio")&&e.closest(".cpf-type-radio").find(".use_images:radio").not(e).each(function(){var t=a(this);t.closest(".tmcp-field-wrap").find(".radio_image").first().prop("src",t.attr("data-image"))}),e.is(".tmcp-range")&&e.trigger("change.cpflogic"),e.is("select")?e.trigger("tm-select-change"):(e.is(".tmcp-radio")&&e.closest(".cpf-type-radio").find(".tm-quantity .tm-qty").each(function(){a(this).closest("li.tmcp-field-wrap").find(".tmcp-radio").is(":checked")?a(this).removeAttr("disabled"):a(this).attr("disabled","disabled")}),h.trigger({type:"tm-epo-update",norules:1,element:e}))),e.trigger("tm_trigger_product_image"),setTimeout(function(){a(".tm-owl-slider").each(function(){a(this).trigger("refresh.owl.carousel")})},200),F.trigger("tm_attempt_product_image",{element:e,main_product:F,epo_holder:f})}),f.find(".tm-has-clearbutton .tm-epo-field").off("change.cpfclearbutton").on("change.cpfclearbutton cpfclearbutton",function(){var t=a(this),e=t.closest(".cpf_hide_element").find(".tm-epo-reset-radio").removeClass("tm-hidden");t.closest(".tmcp-field-wrap").append(e)}),f.find(".tm-epo-reset-radio").off("click.cpf").on("click.cpf",function(){var t=a(this),e=t.closest(".cpf_hide_element").find(".tm-epo-field.tmcp-radio:checked");e.length&&(e.removeAttr("checked").prop("checked",!1),e.trigger("change.cpflogic"),e.trigger("change.cpf")),t.addClass("tm-hidden")}),f.find(".tm-epo-field.tmcp-textarea,.tm-epo-field.tmcp-textfield").off("keyup.cpf").on("keyup.cpf",function(){a(this).trigger("change.cpf")}),f.find(".tm-epo-field.tmcp-upload").off("change.cpfv change.tcupload").on("change.cpfv change.tcupload",function(){var e,i,o=a(this),r=o.closest("label"),n=o.closest(".tmcp-field-wrap"),c=n.find(".cpf-upload-container"),l=n.find(".tm-filename"),d=o.val().replace("C:\\fakepath\\",""),s=o.attr("data-file"),p=t.URL||t.webkitURL,m=this.files[0],_=n.find(".tc-upload-preview");c.length&&l.length<=0&&(l=a('<span class="tm-filename"></span>'),r.after(l)),l.html(d),(e=f.data("num_uploads"))||(e=[]),e[o.closest(".cpf_hide_element").attr("data-uniqid")]=d,f.data("num_uploads",e),o.next(".tmcp-upload-hidden").remove(),(d||s)&&"yes"===Ht.tm_epo_upload_inline_image_preview&&p&&p.createObjectURL&&m&&(_.length||(_=a('<div class="tc-upload-preview"></div>'),n.find("label.tm-epo-field-label").after(_)),_.empty(),(i=new Image).onload=function(){var t=this.src;_.html('<img src="'+t+'"></div>')},i.src=s||p.createObjectURL(m))}),w.off("change.cpf").on("change.cpf",function(){var t=a(this);h.trigger("tm-epo-check-dpd"),t.data("tm-prev-value",t.val()),h.trigger({type:"tm-epo-update",norules:2})}).data("tm-prev-value",w.val()),h.off("tm-epo-update").on("tm-epo-update",function(t){var i,o,d,s,u,v,b,w,x,A,P,T,D,N,B,L,M,U,R,Z,W,$,X,Q,G=a(this),tt=a.epoAPI.applyFilter("tc_get_bundleid",G.attr("data-product_id"),G),et=0,at=0,it=0,ot=!1,rt=_(G),nt=1,ct=g.attr("data-price-override"),lt=!0,dt=[],st=p(G),pt=0,mt={},_t=0,ft=!1,ut=!1,gt="",ht=!1,vt=!1;(M=t.epoObject?a.extend(!0,{},t.epoObject):a.extend(!0,{},e))&&(t.stopImmediatePropagation(),at=et=a.epoAPI.applyFilter("tcGetCurrentProductPrice",J(g),h,g),!1!==(et=a.epoAPI.applyFilter("tcCalculateCurrentProductPrice",et,{epo:M,alternativeCart:l,cart:G,main_product:F}))?(t.norules?(1===t.norules&&V(M,t.element),a.tcepo.lateFieldsPrices[E]=[],f.find(".tm-epo-late-field").toArray().forEach(function(t){(t=a(t)).data("price",0),a.tcepo.lateFieldsPrices[E].push({setter:t,price:t.data("tm-price-for-late"),bundleid:tt})})):Y(M,G),Number.isFinite(rt)||(g.attr("data-is-sold-individually")||0===m(G).length)&&(rt=1),nt=a.epoAPI.applyFilter("tcAlterElementQty",nt,{epo:M,alternativeCart:l,currentCart:h,main_product:F}),lt=a.epoAPI.applyFilter("tcCalculatePerProductPricing",lt,{epo:M,alternativeCart:l,cart:G,main_product:F}),j&&"woocommerce_before_add_to_cart_button"===Ht.tm_epo_totals_box_placement&&("variable"!==y&&"variable-subscription"!==y||g.data("moved_inside")||g.data("moved_inside",1)),Gt.trigger("tcEpoBeforeOptionPriceCalculation",{epo:M,alternativeCart:M,this_product_type:y,cart:G,totalsHolder:g}),it=(Q=Pt(f,".tmcp-field",it,dt,ot)).total,dt=Q.floatingBoxData,ot=Q.showTotal,g.data("tm-floating-box-data",dt),pt=(Q=Pt(f,".tmcp-fee-field",pt,dt,ot)).total,dt=Q.floatingBoxData,ot=Q.showTotal,a.tcepo.oneOptionIsSelected[E]=ot,H(F,z,a.tcepo.oneOptionIsSelected[E]),ot=a.epoAPI.applyFilter("tcFinalTotalsBoxVisibility",ot,{epo:M,alternativeCart:l,cart:G,main_product:F,totalsHolder:g,this_epo_totals_container:S}),pt>0&&(ot=!0),l&&!lt&&(ot=!1),"pxq"!==k&&"hide"!==k&&"normal"!==k&&"options"!==k&&"final"!==k&&"hideoptionsifzero"!==k&&"optionsiftotalnotzero"!==k||(ot=!0),rt>1&&(ot=!0),"variable"!==y&&"variable-subscription"!==y||a.epoAPI.math.toFloat(st)||(ot=!1),i=it,o=K(M,parseFloat(et)+parseFloat(i),tt,g),"disable"===k&&(ot=!1),"disable_change"!==k&&"yes"!==Ht.tm_epo_change_variation_price&&"yes"!==Ht.tm_epo_change_original_price||(ot=!0),"yes"===Ht.tm_epo_total_price_as_unit_price&&(rt=1),v=parseFloat(et*rt),it=parseFloat(it*rt),Ht.extraFee&&(_t=parseFloat(Ht.extraFee),Number.isFinite(_t)||(_t=0)),!1!==(b=a.epoAPI.applyFilter("tcCalculateFinalProductPrice",!1,{alternativeCart:l,product_price:et,product_total_price:v,v_product_price:at,tm_set_tax_price:r,main_product:F,totalsHolder:g,cartQty:rt}))&&"object"==typeof b&&b.hasOwnProperty("productPrice")&&b.hasOwnProperty("productTotalPrice")&&(et=b.productPrice,v=b.productTotalPrice),i+=o,i=a.epoAPI.applyFilter("tc_adjust_options_price_per_unit",i,v),it=parseFloat(i*rt*nt),it=a.epoAPI.applyFilter("tc_adjust_options_total_price",it,rt,nt,i),"1"===ct&&parseFloat(it)>0&&(et=0,at=0,v=parseFloat(et*rt)),v=a.epoAPI.applyFilter("tc_adjust_product_total_price_without_options",v),it=a.epoAPI.applyFilter("tcAdjustTotal",it,{epo:M,totalsHolder:g,cart:G,main_product:F}),U=it=parseFloat(a.epoAPI.applyFilter("tc_adjust_total",it,g)),R=i,Z=pt=parseFloat(a.epoAPI.applyFilter("tc_adjust_totals_fee",pt,g)),W=w=it+pt,$=v,X=parseFloat(v+w+_t),et=r(et,g),v=r(v,g),it=r(it,g),i=r(i,g),pt=r(pt,g),w=r(w,g),_t=r(_t,g),d=I(it,g,!0,!0),s=I(pt,g,!0,!0),x=v,v=parseFloat(v+w+_t),u=I(v=a.epoAPI.applyFilter("tc_adjust_product_total_price",v,w,_t,it,pt,g),g,!0,!0),A=I(parseFloat(et+parseFloat(i)),g,!0,!0),"yes"===Ht.tm_epo_fees_on_unit_price&&(A=I(parseFloat(et+parseFloat(i)+parseFloat(parseFloat(pt)/rt)),g,!0,!0)),"pxq"===k||"final"===k||"hide"===k||0===w&&"hideoptionsifzero"===k||(0===it&&"hideoptionsifzero"===k&&"options"!==k||(ft=!0),0!==pt&&(ut=!0)),_t&&(ht=!0,gt=I(_t,g,!0,!0)),u&&"options"!==k&&"optionsiftotalnotzero"!==k&&(vt=!0),A=a.epoAPI.applyFilter("tc_adjust_formatted_unit_price",A,et,i,pt,rt),d=a.epoAPI.applyFilter("tc_adjust_formatted_options_total",d,it,i,rt),s=a.epoAPI.applyFilter("tc_adjust_formatted_fees_total",s,pt),u=a.epoAPI.applyFilter("tc_adjust_formatted_final_total",u,v,x,w,_t,rt),mt={qty:rt,raw_options_price_per_unit:R,raw_options_total_price:U,raw_cart_fee_options_total_price:Z,raw_total_plus_fee:W,raw_product_total_price:X,raw_product_total_price_without_options:$,options_price_per_unit:i,options_total_price:it,cart_fee_options_total_price:pt,total_plus_fee:w,product_total_price:v,product_total_price_without_options:x,formatted_unit_price:A=a.epoAPI.applyFilter("tcAdjustFormattedUnitPrice",A,{epo:M,totalsHolder:g,event:t,productPrice:et,_total:i,total_plcart_fee_options_totals_fee:pt,cartQty:rt}),formatted_options_total:d=a.epoAPI.applyFilter("tcAdjustFormattedOptionsTotal",d,{epo:M,totalsHolder:g,event:t,total:it,_total:i,total_plus_fee:w,extraFee:_t,cartQty:rt}),formatted_fees_total:s=a.epoAPI.applyFilter("tcAdjustFormattedFeesTotal",s,{epo:M,totalsHolder:g,event:t,cart_fee_options_total:pt,extraFee:_t,cartQty:rt}),formatted_extra_fee:gt,formatted_final_total:u=a.epoAPI.applyFilter("tcAdjustFormattedFinalTotal",u,{epo:M,totalsHolder:g,event:t,product_total_price:v,product_total_price_without_options:x,total_plus_fee:w,extraFee:_t,cartQty:rt}),show_options_total:ft,show_fees_total:ut,show_extra_fee:ht,show_final_total:vt,unit_price:Ht.i18n_unit_price,show_unit_price:"yes"===Ht.tm_epo_show_unit_price,options_total:Ht.i18n_options_total,fees_total:Ht.i18n_fees_total,extra_fee:Ht.i18n_extra_fee,final_total:Ht.i18n_final_total},void 0!==(mt=a.epoAPI.applyFilter("tc_adjust_tc_totals_ob",mt,{epo_object:M,showTotal:ot,epoHolder:f,totalsHolder:g,tm_set_price:c,tm_set_price_totals:I,product_total_price:v,product_price:et,qty:rt})).showTotal&&(ot=mt.showTotal),g.data("tc_totals_ob",mt),P=a.epoAPI.template.html(Bt.templateEngine.tc_final_totals,mt),g.data("tm-html",P),g.data("tc_totals_ob",mt),Gt.trigger("tcEpoAfterCalculateTotals",{epo:M,alternativeCart:l,this_product_type:y,cart:G,bundleid:tt,totalsObject:mt,main_product:F,per_product_pricing:lt}),T=a.epoAPI.applyFilter("hide_native_price",!0),ot&&rt>0?("disable_change"!==k&&"yes"!==Ht.tm_epo_change_variation_price||(!0===T&&"disable"!==k&&"disable_change"!==k?O(G).hide():O(G).show()),"disable"===k||"disable_change"===k||("hideifoptionsiszero"===k||"optionsiftotalnotzero"===k)&&0===w||"hide"===k?(P="",g.html(P).hide(),q.hide()):(g.html(P).show(),q.show(),Gt.trigger("tc-totals-container",{epo:mt,totals_holder:g,data:{epo_object:M,tm_set_price:c,tm_set_price_totals:I,product_total_price:v,product_price:et,qty:rt},tm_epo_js:Ht})),u&&v>=0&&(D=O(G),N=a.epoAPI.math.format(v,{symbol:"",decimal:Bt.localDecimalSeparator,thousand:Bt.localThousandSeparator,precision:Ht.currency_format_num_decimals,format:""}),B=a.epoAPI.math.format(parseFloat(parseFloat(g.data("regular-price")*rt)+w+_t),{symbol:"",decimal:Bt.localDecimalSeparator,thousand:Bt.localThousandSeparator,precision:Ht.currency_format_num_decimals,format:""}),Ht.customer_price_format&&(N=(L=(L=Ht.customer_price_format_wrap_start+Ht.customer_price_format+Ht.customer_price_format_wrap_end).replace("__PRICE__",N)).replace("__CODE__",Ht.current_currency),B=L.replace("__CODE__",Ht.current_currency)),N=a.epoAPI.applyFilter("tc_adjust_native_price",N,v),B=a.epoAPI.applyFilter("tc_adjust_native_regular_price",B,v),"disable_change"!==k&&"yes"!==Ht.tm_epo_change_variation_price||(g.data("is-on-sale")?D.html(a.epoAPI.util.decodeHTML(a.epoAPI.template.html(Bt.templateEngine.tc_formatted_sale_price,{price:B,sale_price:N}))).show():D.html(a.epoAPI.util.decodeHTML(a.epoAPI.template.html(Bt.templateEngine.tc_formatted_price,{price:N}))).show()),"disable_change"!==k&&"yes"!==Ht.tm_epo_change_original_price||(l&&0!==F.find(".cpf-bto-price").length||(v>0?g.data("is-on-sale")?a(Bt.nativeProductPriceSelector).html(a.epoAPI.util.decodeHTML(a.epoAPI.template.html(Bt.templateEngine.tc_formatted_sale_price,{price:B,sale_price:N}))).show():a(Bt.nativeProductPriceSelector).html(a.epoAPI.util.decodeHTML(a.epoAPI.template.html(Bt.templateEngine.tc_formatted_price,{price:N}))).show():y&&"composite"!==y&&a(Bt.nativeProductPriceSelector).html(a.epoAPI.util.decodeHTML(Ht.current_free_text))),Gt.trigger("tcEpoMaybeChangePriceHtml",{epo:M,alternativeCart:l,this_product_type:y,cart:G,bundleid:tt,totalsObject:mt,main_product:F,nativePrice:N}))),l?C.trigger({type:"tm-epo-update",norules:1}):S.data("is_active",!0)):(O(G).each(function(){a(this).data("tm-original-html")?a(this).html(a(this).data("tm-original-html")):a(this).data("tm-original-html",a(this).html())}),0===at&&"yes"===Ht.tm_epo_remove_free_price_label?O(G).hide():"disable_change"!==k&&"yes"!==Ht.tm_epo_change_variation_price||!0===T&&"disable"!==k&&"disable_change"!==k||O(G).show(),g.empty().hide(),l&&C.trigger({type:"tm-epo-update",norules:1})),C.trigger("tm-epo-after-update",{container:n}),Gt.trigger("tc-epo-after-update",{epo:mt,totals_holder:g,data:{epo_object:M,tm_set_price:c,tm_set_price_totals:I,product_total_price:v,product_price:et,qty:rt},tm_epo_js:Ht})):g.empty())}),"variable"!==y&&"variable-subscription"!==y||(f.find(".tm-epo-reset-variation").off("click.cpfv").on("click.cpfv",function(){var t=a(this),e=a.epoAPI.dom.id(t.attr("data-tm-for-variation")),i=t.closest(".cpf-type-variations");t.closest(".cpf_hide_element").find(".tm-epo-variation-element").removeAttr("checked").prop("checked",!1),b.find("#"+e).val("").trigger("change"),b.find("#"+e).trigger("focusin"),F.find(".cpf-type-variations").not(i).each(function(t,e){b.find("#"+a.epoAPI.dom.id(a(e).find(".tm-epo-variation-element").first().attr("data-tm-for-variation"))).trigger("focusin")}),t.blur(),b.trigger("woocommerce_update_variation_values_tmlogic")}),f.find("input.tm-epo-variation-element,input.tm-epo-variation-element + label").off("mouseup.cpfv").on("mouseup.cpfv",function(){var t,e=a(this);e.is("label")&&(e=e.prev("input")),e.attr("disabled")&&b.find(".reset_variations").trigger("click"),t=a.epoAPI.dom.id(e.attr("data-tm-for-variation")),b.find("#"+t).trigger("focusin")}),f.find(".tm-epo-variation-element").off("change.cpfv tm_epo_variation_element_change").on("change.cpfv tm_epo_variation_element_change",function(t){var e,i=a(this),o=a.epoAPI.dom.id(i.attr("data-tm-for-variation")),r=i.val(),n=i.closest(".cpf-type-variations"),c=b.find("#"+o);t&&t.type&&"tm_epo_variation_element_change"===t.type||(e=!1,c.each(function(){if(this.value===r)return e=!0,!1}),e||c.trigger("focusin"),c.val(r).trigger("change")),r||c.trigger("focusin"),F.find(".cpf-type-variations").not(n).each(function(){b.find("#"+a.epoAPI.dom.id(a(this).find(".tm-epo-variation-element").first().attr("data-tm-for-variation"))).trigger("focusin")}),i.blur(),b.trigger("woocommerce_update_variation_values_tmlogic")}).off("focusin.cpfv").on("focusin.cpfv",function(){var t,e=a(this);e.is("select")&&(t=a.epoAPI.dom.id(e.attr("data-tm-for-variation")),b.find("#"+t).trigger("focusin"),b.trigger("woocommerce_update_variation_values_tmlogic"))}),b.off("found_variation.tmepo tm_fix_stock",".single_variation_wrap").on("found_variation.tmepo tm_fix_stock",".single_variation_wrap",function(){T(a(this),n)}),b.off("found_variation.tmepo").on("found_variation.tmepo",function(t,i){var o=a(this);g.data("is-on-sale",i.tc_is_on_sale),g.data("regular-price",i.display_regular_price),Gt.trigger("tm-epo-found-variation",{epo:e,totalsHolder:g,totalsHolderContainer:u,currentCart:h,variationForm:o,variation:i}),At({totalsHolder:g,totalsHolderContainer:u,currentCart:h,variationForm:o,variation:i}),T(o,n)}).off("hide_variation.tmepo").on("hide_variation.tmepo",function(){h.trigger({type:"tm-epo-update",norules:2})}).trigger("check_variations"),dt(e,n,R,F,f)),f.find("select.tm-epo-field").trigger("tm-select-change-html"),f.find(".tm-quantity .tm-qty").trigger("change.cpf"),f.find(".tm-quantity").trigger("showhide.cpfcustom"),f.find(".tm-has-clearbutton .tm-epo-field:checked").trigger("cpfclearbutton"),tt(e),Gt.on("tm-do-epo-update",function(){h.trigger({type:"tm-epo-update"})}),Gt.trigger("tm-epo-init-events",{epo:{epo_id:B,form:e.form,currentCart:h,cart_container:n,epo_holder:f,totals_holder_container:u,totals_holder:g,main_cart:C,main_epo_inside_form:j,product_id_selector:L,epo_id_selector:N,product_id:x,this_epo_container:P,this_totals_container:q,this_epo_totals_container:S}}),Gt.trigger("epoEventHandlers",{epo:e,currentCart:h,cartContainer:n,qtyElement:w,epoHolder:f,totalsHolderContainer:u,totalsHolder:g,variationForm:b,variation_id_selector:v,main_epo_inside_form:j,this_product_type:y,get_price_excluding_tax:o,get_price_including_tax:i}),"disable"!==k&&"disable_change"!==k&&"hide"===k&&u.addClass("tc-show"),Gt.trigger("epo_options_before_visible"),"yes"===Ht.tm_epo_progressive_display?setTimeout(function(){f.css("opacity",0).addClass("tc-show").animate({opacity:1},Bt.epoAnimationDelay,"easeOutExpo",function(){Gt.trigger("epo_options_visible"),Gt.trigger("tmlazy")})},Bt.epoDelay):(f.addClass("tc-show"),Gt.trigger("epo_options_visible"),Gt.trigger("tmlazy")),F.addClass("tc-init")}function St(t){var e=t.variations_form,i=t.main_cart,o=t.this_epo_container;e.on("wc_variation_form.cpf",function(){e.data("epo_loaded")||(x(o),F(o),w(o),a.tcepo.lateFieldsPrices[t.epoEventId]=[],qt(t),rt(),yt(t),setTimeout(function(){i.trigger({type:"tm-epo-update"})},10),e.data("epo_loaded",!0))}),Xt&&e.trigger("wc_variation_form.cpf"),Gt.trigger("epo-after-init",{epo:t})}function Et(t){var e=requestAnimationFrame(function(t){Et(t)}),a=t.variations_form;a.data("bound")&&(cancelAnimationFrame(e),St(t),a.trigger("wc_variation_form.cpf"))}function Tt(t,e,i,o,r){var n=a.extend(!0,{},t),c=o.attr("data-product-id"),l=o.attr("data-epo-id"),d=".tm-product-id-"+c,s="[data-epo-id='"+l+"']",p="p"+c+"e"+l;t.isManual=!0,a.tcepo.formSubmitEvents[p]=[],a.tcepo.errorObject[p]=!1,a.tcepo.initialActivation[p]=!1,t.product_id=c,t.product_id_selector=d,t.epo_id=l,t.epo_id_selector=s,t.epoEventId=p,et(),r.find(".tm-collapse").tmtoggle(),r.find(".tm-section-link").tmsectionpoplink(),xt(e),wt(e),at(e),it(t.this_epo_container.find(".tm-color-picker")),x(o),F(o),w(o),a.tcToolTip(e.find(".tm-tooltip")),qt(t,e,i),i.trigger({type:"tm-epo-update"}),setTimeout(function(){t.main_cart.trigger({type:"tm-epo-update",epoObject:n,norules:1})},200),T(i,e)}function zt(e,i,o,r){var n,c,l,d,s,p,m,_,f,u=!1,g=!1,h=!1,v=void 0!==o,y=!1,b=a(".variation_form_section .variations-table").length>0;if((e=a(e)).is(".tc-init"))return!0;Vt=i?e:a(t),Gt.trigger("tm-epo-init-start"),v||e.is(".product")&&(y=!0,v=Qt.find(Bt.epoSelector).length),v||"no"!==Ht.tm_epo_enable_final_total_box_all||e.is(".tm-no-options-composite")?(y&&(Gt.trigger("tm-epo-init-no-options"),!e.is(".product")||e.is(".tm-no-options-pxq")||e.is(".tm-no-options-composite")||(e=Qt)),o||((c=e.find(Bt.AddToCartSelector).last()).length>0?o=c.val():(c=a(".tc-totals-form.tm-totals-form-main"),o=c.attr("data-product-id")),o||(o="")),r||(r=parseInt(e.find("input.tm-epo-counter").last().val(),10),Number.isFinite(r)||(r="")),s=a(".tc-extra-product-options"+(l=".tm-product-id-"+o)+(d="[data-epo-id='"+r+"']")),p=a(".tc-totals-form"+l+d),m=a(".tc-epo-totals"+l+d),f=e.find(".variations_form"),n="p"+o+"e"+r,f&&f.attr("data-product_id")&&f.attr("data-product_id")!==o&&(f=e.find(".variations_form[data-product_id='"+o+"']")),u=D(e,e,"form",o),a.tcepo.formSubmitEvents[n]=[],a.tcepo.errorObject[n]=!1,a.tcepo.initialActivation[n]=!1,u.find(Bt.epoSelector).length>0&&(g=!0),u.find(".tc-totals-form").length>0&&(h=!0),h||(a.tcepo.formSubmitEvents[n][a.tcepo.formSubmitEvents[n].length]={trigger:function(){return!0},on_true:function(){var t=a(".tc-totals-form.tm-product-id-"+o+"[data-epo-id='"+r+"']").tcClone(),e=a('<div class="tm-hidden tm-formepo-normal"></div>');return u.find(".tm-formepo-normal").remove(),e.append(t),u.append(e),!0},on_false:function(){setTimeout(function(){a(".tm-formepo").remove()},100)}}),g||(a.tcepo.formSubmitEvents[n][a.tcepo.formSubmitEvents[n].length]={trigger:function(){return!0},on_true:function(){var t=a(Bt.epoSelector+".tm-product-id-"+o+"[data-epo-id='"+r+"']").tcClone(),e=a('<div class="tm-hidden tm-formepo"></div>');return u.find(".tm-formepo").remove(),e.append(t),u.append(e),!0},on_false:function(){setTimeout(function(){a(".tm-formepo").remove()},100)}}),_={main_product:e,main_cart:u,epo_id:r,form:j(e),main_epo_inside_form:g,product_id_selector:l,epo_id_selector:d,product_id:o,this_epo_container:s,this_totals_container:p,this_epo_totals_container:m,qtySelector:Bt.qtySelector,manualInitEPO:Tt,epoEventId:n,variations_form:f,has_epo:v,is_quickview:i},a(_.form).data("epo_object",_),u.data("product_id",o).data("epo_id",r).data("product_id_selector",l).data("epo_id_selector",d),ct(_),nt(_),xt(s),wt(s),N(),a.tcToolTip(s.find(".tm-tooltip")),s.find(".tm-collapse").tmtoggle(),s.find(".tm-section-link").tmsectionpoplink(),f.length>0?b?Et(_):St(_):(setTimeout(function(){x(s),F(s),w(s),a.tcepo.lateFieldsPrices[n]=[],qt(_),rt(),yt(_),Gt.trigger("epo-after-init-in-timeout",{epo:_}),u.trigger("tm-epo-check-dpd"),u.trigger({type:"tm-epo-update"})},20),Gt.trigger("epo-after-init",{epo:_})),et(),at(s),it(s.find(".tm-color-picker")),B(m,i,u),It(_),H(e,v,a.tcepo.oneOptionIsSelected[n]),lt(_),bt(_),Gt.on("cpflogicdone",function(){tt(_)}),Gt.trigger("tm-epo-init-end",{epo:_})):Gt.trigger("tm-epo-init-end-no-options")}function jt(t){var e=a(t),i=e.attr("data-product-id"),o=e.attr("data-epo-id"),r=e.parent();r.is("form")||(r=e.closest("form")).is("form")||(r=e.parent()),zt(r,!1,i,o)}function Dt(){var e,i;"no"===Ht.tm_epo_no_lazy_load&&a.extend(a.lazyLoadXT,{autoInit:!1,selector:"img.tmlazy",srcAttr:"data-original",visibleOnly:!1,updateEvent:a.lazyLoadXT.updateEvent+" tmlazy"}),(e=a(".tm-no-options-pxq, .tm-no-options-composite")).length>0&&e.each(function(t,e){zt(a(e),!1)});try{(i=a(Bt.epoSelector).not(".tm-no-options-pxq, .tm-no-options-composite, .wc-product-table "+Bt.epoSelector)).length>0&&i.each(function(){var t=a(this),e=t.attr("data-product-id"),i=t.attr("data-epo-id"),o=!1,r=a(Bt.AddToCartSelector+"[value='"+e+"']").closest("form,.cart").first().parent();r.length<=0&&(r=a(Bt.tcAddToCartSelector+"[value='"+e+"']").closest("form,.cart").first().parent()).length<=0&&((r=t.closest("form,.cart").first().parent(".tm-has-options")).length<=0&&t.is(".tc-shortcode")&&(r=t.wrap('<div class="tc-shortcode-wrap tc-wrap-'+i+'"></div>'),r=t.parent()),r.length>0&&(o=!0,t.closest("form,.cart").first().append(a('<input name="add-to-cart" value="'+e+'" type="hidden" />')),t.closest("form,.cart").first().append(a('<input type="hidden" value="" class="variation_id" name="variation_id">')))),r.length>0&&(r.is("form")&&(r=r.parent()),zt(r,o,e,i))})}catch(e){t.console.log(e),Ot=e}}var Ot,Nt,Bt={},Ht=t.TMEPOJS,Lt=t.wp,Mt=t.TMEPOQTRANSLATEXJS,Ut=t.noUiSlider,Rt=t.ClipboardEvent,Zt=t.DataTransfer,Wt=[],$t=!1,Xt=!1,Qt=a("body"),Gt=a(t),Jt=a(e),Vt=a(t);Ht&&Lt&&(a.lazyLoadXT&&a.extend(a.lazyLoadXT,{autoInit:!1,updateEvent:a.lazyLoadXT.updateEvent+" tmlazy"}),Bt.localInputDecimalSeparator=""===Ht.tm_epo_global_input_decimal_separator?Ht.currency_format_decimal_sep:a.epoAPI.locale.getSystemDecimalSeparator(),Bt.localDecimalSeparator=""===Ht.tm_epo_global_displayed_decimal_separator?Ht.currency_format_decimal_sep:a.epoAPI.locale.getSystemDecimalSeparator(),Bt.localThousandSeparator=""===Ht.tm_epo_global_displayed_decimal_separator?Ht.currency_format_thousand_sep:a.epoAPI.locale.getSystemDecimalSeparator(),Bt.epoDelay=Ht.tm_epo_start_animation_delay?Ht.tm_epo_start_animation_delay:t.tc_epo_delay?t.tc_epo_delay:500,Bt.epoAnimationDelay=Ht.tm_epo_animation_delay?Ht.tm_epo_start_animation_delay:t.tc_epo_animation_delay?t.tc_epo_animation_delay:500,Bt.getElementFromFieldCache=[],Bt.epoSelector=".tc-extra-product-options",Bt.AddToCartSelector="input[name='add-to-cart']",Bt.tcAddToCartSelector="input.tc-add-to-cart",Bt.qtySelector="input.qty,input[name='quantity'],select.qty,.drop-down-button #qty,.plus-minus-button #qty,.slider-input #amount",Bt.addToCartButtonSelector=".add_to_cart_button, .single_add_to_cart_button",Bt.compositeSelector=".bto_item,.component",Bt.nativeProductPriceSelector=".woocommerce div.product p.price",Bt.templateEngine=a.epoAPI.applyFilter("tc_adjust_templateEngine",{price:Lt.template("tc-price"),sale_price:Lt.template("tc-sale-price"),tc_chars_remanining:Lt.template("tc-chars-remanining"),tc_final_totals:Lt.template("tc-final-totals"),tc_floating_box:Lt.template("tc-floating-box"),tc_floating_box_nks:Lt.template("tc-floating-box-nks"),tc_formatted_price:Lt.template("tc-formatted-price"),tc_formatted_sale_price:Lt.template("tc-formatted-sale-price"),tc_lightbox:Lt.template("tc-lightbox"),tc_lightbox_zoom:Lt.template("tc-lightbox-zoom"),tc_section_pop_link:Lt.template("tc-section-pop-link"),tc_upload_messages:Lt.template("tc-upload-messages")}),Bt=a.epoAPI.applyFilter("tc_api",Bt),a.tcAPI=function(){return Bt},a.tcAPIGet=function(t){return Bt[t]},a.tcAPISet=function(t,e){Bt[t]=e},a.tc_validator&&a.extend(a.tc_validator.messages,{required:Ht.tm_epo_global_validator_messages.required,email:Ht.tm_epo_global_validator_messages.email,url:Ht.tm_epo_global_validator_messages.url,number:Ht.tm_epo_global_validator_messages.number,digits:Ht.tm_epo_global_validator_messages.digits,maxlengthsingle:a.tc_validator.format(Ht.tm_epo_global_validator_messages.maxlengthsingle),maxlength:a.tc_validator.format(Ht.tm_epo_global_validator_messages.maxlength),minlengthsingle:a.tc_validator.format(Ht.tm_epo_global_validator_messages.minlengthsingle),minlength:a.tc_validator.format(Ht.tm_epo_global_validator_messages.minlength),max:a.tc_validator.format(Ht.tm_epo_global_validator_messages.max),min:a.tc_validator.format(Ht.tm_epo_global_validator_messages.min),step:a.tc_validator.format(Ht.tm_epo_global_validator_messages.step),lettersonly:a.tc_validator.format(Ht.tm_epo_global_validator_messages.lettersonly),lettersspaceonly:a.tc_validator.format(Ht.tm_epo_global_validator_messages.lettersspaceonly),alphanumeric:a.tc_validator.format(Ht.tm_epo_global_validator_messages.alphanumeric),alphanumericunicode:a.tc_validator.format(Ht.tm_epo_global_validator_messages.alphanumericunicode),alphanumericunicodespace:a.tc_validator.format(Ht.tm_epo_global_validator_messages.alphanumericunicodespace)}),a.tc_validator&&(a.tc_validator.addMethod("alphanumeric",function(t,e){return this.optional(e)||/^\w+$/i.test(t)},a.tc_validator.messages.alphanumeric),a.tc_validator.addMethod("lettersonly",function(t,e){return this.optional(e)||/^[a-z]+$/i.test(t)},a.tc_validator.messages.lettersonly),a.tc_validator.addMethod("lettersspaceonly",function(t,e){return this.optional(e)||/^[a-z,\u0020]+$/i.test(t)},a.tc_validator.messages.lettersspaceonly),a.tc_validator.addMethod("alphanumericunicode",function(t,e){return this.optional(e)||/^[\u0030-\u0039\u0041-\u005A\u0061-\u007A\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF\u0100-\u0148\u014A-\u017F\u0180-\u01BF\u01C4-\u024F\u1E02-\u1EF3\u0370-\u03FF\u0400-\u04FF]+$/i.test(t)},a.tc_validator.messages.alphanumericunicode),a.tc_validator.addMethod("alphanumericunicodespace",function(t,e){return this.optional(e)||/^[\u0030-\u0039\u0041-\u005A\u0061-\u007A\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF\u0100-\u0148\u014A-\u017F\u0180-\u01BF\u01C4-\u024F\u1E02-\u1EF3\u0370-\u03FF\u0400-\u04FF,\u0020]+$/i.test(t)},a.tc_validator.messages.alphanumericunicodespace)),a.epoAPI.util.escapeSelector=function(){var t=/([!"$%&'()*+,/:;<=>?@[\]^`{|}~])/g;return function(e){return e.replace(t,"\\$1")}}(),a.epoAPI.util.unformat=function(t){var e=a.epoAPI.math.unformat(t,Bt.localInputDecimalSeparator),i=parseFloat(e);return Number.isFinite(i)?i:e},a.epoAPI.util.parseParams=function(t,e){return t.split("&").map(function(t){var a={};return!0===e&&(t=decodeURIComponent(t)),(t=t.split("=").map(function(t){var e=t.split("?");return e.length>1?e[1]:t})).length>1&&(a[t[0]]=t[1]),a}).filter(function(t){return null!==t}).reduce(function(t,e){return Object.assign({},t,e)},{})},a.tmempty||(a.tmempty=function(t){var e=1===[void 0,null,!1,0,"","0"].filter(function(e){return t===e}).length,a=!1;return"object"==typeof t?a=0===Object.keys(t).filter(function(e){return t.hasOwnProperty(e)}).length:e||a}),a.tmType||(a.tmType=function(t){return Object.prototype.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}),a.is_on_screen||(a.fn.is_on_screen=function(){var e=a(t),i=a.epoAPI.dom.scroll(),o=this.offset(),r={top:i.top,left:i.left};return r.right=r.left+e.width(),r.bottom=r.top+e.height(),o.right=o.left+this.outerWidth(),o.bottom=o.top+this.outerHeight(),!(r.right<o.left||r.left>o.right||r.bottom<o.top||r.top>o.bottom)}),a().tmtoggle||(a.fn.tmtoggle=function(){var e=this,i=!1,o=0;if(0!==e.length)return e.each(function(){var t,e,r,n=a(this);if(!n.data("tm-toggle-init")){if(n.data("tm-toggle-init",1),t=n.find(".tm-toggle"),e=n.find(".tm-collapse-wrap"),r=a(".tm-collapse.tmaccordion").find(".tm-toggle"),0===t.length||0===e.length)return;e.is(".closed")?(a(e).removeClass("closed open").addClass("closed").hide(),a(t).find(".tm-arrow").removeClass("tcfa-angle-down tcfa-angle-up").addClass("tcfa-angle-down")):(a(e).removeClass("closed open").addClass("open").show(),a(t).find(".tm-arrow").removeClass("tcfa-angle-down tcfa-angle-up").addClass("tcfa-angle-up"),i=!0),t.each(function(t,i){a(i).on("closewrap.tmtoggle",function(){n.is(".tmaccordion")&&a(e).is(".closed")||(a(e).removeClass("closed open").addClass("closed"),a(this).find(".tm-arrow").removeClass("tcfa-angle-down tcfa-angle-up").addClass("tcfa-angle-down"),a(e).removeClass("tm-animated fadeIn"),n.is(".tmaccordion"),a(e).animate({height:"toggle"},100,function(){a(e).hide()}),Gt.trigger("tmlazy"))}),a(i).on("openwrap.tmtoggle",function(){n.is(".tmaccordion")&&a(r).not(a(this)).trigger("closewrap.tmtoggle"),a(e).removeClass("closed open").addClass("open"),a(this).find(".tm-arrow").removeClass("tcfa-angle-down tcfa-angle-up").addClass("tcfa-angle-up"),a(e).show().removeClass("tm-animated fadeIn").addClass("tm-animated fadeIn"),setTimeout(function(){Gt.trigger("tmlazy")},200),o&&n.is(".tmaccordion")&&!n.is_on_screen()&&Gt.tcScrollTo(a(i))}),a(i).on("click.tmtoggle",function(t){t.preventDefault(),a(e).is(".closed")?a(this).trigger("openwrap.tmtoggle"):a(this).trigger("closewrap.tmtoggle")}),a(i).find(".tm-qty").closest(".cpf_hide_element").find(".tm-epo-field").on("change.cpf",function(){a(i).trigger("openwrap.tmtoggle")})})}}),void 0===t.tc_accordion_closed_on_page_load&&!i&&e.filter(".tmaccordion").length>0&&e.filter(".tmaccordion").first().find(".tm-toggle").trigger("openwrap.tmtoggle"),o=1,e}),a().tmpoplink||(a.fn.tmpoplink=function(){var t,e=this;if(0!==e.length)return t=function(t){return a.epoAPI.template.html(Lt.template("tc-cart-options-popup"),{title:t.title,id:t.id,html:t.html,close:Ht.i18n_close})},e.each(function(){var e,i,o,r,n=a(this);n.is(".tc-poplink")||(n.addClass("tc-poplink"),e=a(this).attr("href"),i=a(this).attr("data-title"),o=a(e).html(),i||(i=Ht.i18n_addition_options),r=t({id:"temp_for_floatbox_insert",html:o,title:i}),n.on("click.tmpoplink",function(t){a.tcFloatBox({fps:1,ismodal:!1,refresh:100,width:"80%",height:"80%",classname:"flasho tm_wrapper",data:r}),t.preventDefault()}))})}),(Nt=function(t,e,a){return this.this_epo_totals_container=t,this.is_quickview=e,this.main_cart=a,!(e||!Ht.floating_totals_box||"disable"===Ht.floating_totals_box||!a||!t.length)&&(this.init(),this)}).prototype={constructor:Nt,onUpdate:function(){var t,e,i=this.this_epo_totals_container.data("tm-html"),o=this.this_epo_totals_container.data("tm-floating-box-data"),r=[];o&&o.length&&a.each(o,function(t,e){""===e.title&&(e.title="&nbsp;"),""===e.value&&(e.value="&nbsp;"),e.title?(e.title=a("<div>"+e.title+"</div>"),e.title.find("span").remove(),e.title=e.title.html()):e.title="&nbsp;",this.is_nks&&(""!==e.label_show&&(e.title=""),""!==e.value_show&&(e.value="")),r.push({label_show:e.label_show,value_show:e.value_show,title:e.title,value:e.value,quantity:e.quantity,price:c(e.price,this.this_epo_totals_container,!0,!1)})}),i&&""!==i||this.is_nks||(i="",this.floatingBox.hide()),r&&!r.length&&r.push({label_show:"hidden",value_show:"hidden",title:"",value:"",quantity:0,price:0}),t=a.epoAPI.template.html(this.engineTemplate,{html_before:Ht.floating_totals_box_html_before,html_after:Ht.floating_totals_box_html_after,option_label:Ht.i18n_option_label,option_value:Ht.i18n_option_value,option_qty:Ht.i18n_option_qty,option_price:Ht.i18n_option_price,values:r,totals:i}),this.floatingBox.html(t),this.onUpdateScroll(),"yes"===Ht.floating_totals_box_add_button&&(e=this.main_cart.find(Bt.addToCartButtonSelector).first()).tcClone().addClass("tc-add-to-cart-button").on("click",function(){e.trigger("click")}).appendTo(this.floatingBox)},onUpdateScroll:function(){"always"!==Ht.floating_totals_box_visibility?Gt.scrollTop()>100||this.is_nks_alt?this.floatingBox.is(":hidden")&&!this.floatingBox.is(":empty")||this.is_nks_alt?!1===this.is_nks?this.floatingBox.fadeIn():this.floatingBox.show():!this.floatingBox.is(":hidden")&&this.floatingBox.is(":empty")&&(!1===this.is_nks?this.floatingBox.fadeOut():this.floatingBox.hide()):this.floatingBox.is(":hidden")||(!1===this.is_nks?this.floatingBox.fadeOut():this.floatingBox.hide()):this.floatingBox.show()},addEvents:function(){this.onUpdate(),this.main_cart.on("tm-epo-after-update",this.onUpdate.bind(this)),!1===this.is_nks&&Gt.on("scroll",this.onUpdateScroll.bind(this))},init:function(){this.floatingBox=a('<div class="tm-floating-box '+Ht.floating_totals_box+'"></div>'),this.nks_selector=a(".tm-floating-box-nks").first(),this.alt_selector=a(".tm-floating-box-alt").first(),this.engineTemplate=Bt.templateEngine.tc_floating_box,this.is_nks=!1,this.is_nks_alt=!1,this.nks_selector.length>0?(this.is_nks=!0,this.floatingBox.removeClass("top left right bottom").appendTo(this.nks_selector).show()):this.alt_selector.length>0?this.floatingBox.removeClass("top left right bottom").appendTo(this.alt_selector).hide():this.floatingBox.appendTo("body").hide(),(this.nks_selector.length>0||this.alt_selector.length>0)&&(this.is_nks_alt=!0,this.engineTemplate=Bt.templateEngine.tc_floating_box_nks),this.addEvents()}},a.tcFloatingTotalsBox=function(t,e,a){var i=!1;return t&&t.length&&void 0===t.data("tcfloatingtotalsbox")&&(i=new Nt(t,e,a),t.data("tcfloatingtotalsbox",i)),i},a.tc_product_image={},a.tc_product_image_store={},a.tc_replace_object_values=function(t,e){return Object.keys(t).forEach(function(a){Object.keys(t[a]).forEach(function(i){void 0!==e[a]&&void 0!==e[a][i]&&e[a].hasOwnProperty(i)&&(t[a][i]=e[a][i])})}),t},a.tc_maybe_copy_object_values=function(t,e){return Object.keys(e).forEach(function(a){Object.keys(e[a]).forEach(function(i){void 0===e[a]||!e[a].hasOwnProperty(i)||void 0===e[a][i]||void 0!==t[a]&&void 0!==t[a][i]||(void 0===t[a]&&(t[a]={}),t[a][i]=e[a][i])})}),t},a.tc_pre_populate_store=function(){var t={};return t[0]={},t[1]={},t[2]={},t[3]={},t[0].src="",t[0].srcset="",t[0].sizes="",t[0].title="",t[0].alt="",t[0]["data-src"]="",t[0]["data-large_image"]="",t[0]["data-large_image_width"]="",t[0]["data-large_image_height"]="",t[1]["data-thumb"]="",t[2].src="",t[3].href="",t[3].title="",t},a.tc_populate_store=function(t,e){var a=e.find(".flex-control-nav li:eq(0) img"),i=e.find(".woocommerce-product-gallery__wrapper ").find(".woocommerce-product-gallery__image, .woocommerce-product-gallery__image--placeholder").eq(0),o=t,r=t.closest("a"),n={};return n[0]={},n[1]={},n[2]={},n[3]={},n[0].src=o.attr("src"),n[0].srcset=o.attr("srcset"),n[0].sizes=o.attr("sizes"),n[0].title=o.attr("title"),n[0].alt=o.attr("alt"),n[0]["data-src"]=o.attr("data-src"),n[0]["data-large_image"]=o.attr("data-large_image"),n[0]["data-large_image_width"]=o.attr("data-large_image_width"),n[0]["data-large_image_height"]=o.attr("data-large_image_height"),n[1]["data-thumb"]=i.attr("data-thumb"),n[2].src=a.attr("src"),n[3].href=r.attr("href"),n[3].title=r.attr("title"),n},a.tc_maybe_copy_object_values_from_img=function(t,e,i){var o,r,n=i.find(".flex-control-nav li:eq(0) img"),c=[["src","srcset","sizes","title","alt","data-src","data-large_image","data-large_image_width","data-large_image_height","large-image"],["data-thumb"],["src"],["href","title"]];return[e,i.find(".woocommerce-product-gallery__wrapper ").find(".woocommerce-product-gallery__image, .woocommerce-product-gallery__image--placeholder").eq(0),n,e.closest("a")].forEach(function(e,i){void 0!==e&&void 0!==e[0]&&(o=e[0].attributes,a.each(o,function(){this.specified&&(r=this.name,-1!==a.inArray(r,c[i])&&(void 0===t[i]||void 0!==t[i]&&void 0===t[i][r])&&(void 0===t[i]&&(t[i]={}),t[i][r]=this.value))}))}),t},a.fn.tc_set_attr=function(t,e,i){void 0===i&&(i=0),(void 0===a.tc_product_image[i]||void 0!==a.tc_product_image[i]&&void 0===a.tc_product_image[i][t])&&(void 0===a.tc_product_image[i]&&(a.tc_product_image[i]={}),a.tc_product_image[i][t]="",this.attr(t)&&(a.tc_product_image[i][t]=this.attr(t))),!1===e?this.removeAttr(t):this.attr(t,e)},a.fn.tc_reset_attr=function(t,e){void 0===e&&(e=0),void 0!==a.tc_product_image[e]&&(void 0!==a.tc_product_image[e][t]&&this.attr(t,a.tc_product_image[e][t]),delete a.tc_product_image[e][t])},a.fn.tc_update_attr=function(t,e){void 0===e&&(e=0),void 0!==a.tc_product_image[e]&&(a.tc_product_image[e][t]=this.attr(t))},a.fn.tc_image_update=function(t,e){var i,o,r,n,c=a(t),l=this,d=a(e),s=l.data("epo_object"),p=s.main_product.closest("#product-"+s.product_id),m=p;p.length<=0&&(m=s.main_product.closest(".post-"+s.product_id)),c.is("select")&&(c=c.children("option:selected")),i=c.data("image-variations"),r=(o=""!==Ht.tm_epo_global_product_image_selector?a(Ht.tm_epo_global_product_image_selector):m.find("a.woocommerce-main-image img, img.woocommerce-main-image,a img").not(".thumbnails img,.product_list_widget img,img.emoji,a.woocommerce-product-gallery__trigger img").first()).closest("a"),o.length>1&&(o=o.first()),c&&i&&d.length>0?(d.removeAttr("data-o_src").removeAttr("data-o_title").removeAttr("data-o_alt").removeAttr("data-o_srcset").removeAttr("data-o_sizes").removeAttr("srcset").removeAttr("sizes"),n=i.imagep,i.imagep.image_link||(n=i.image),d.attr("title",n.image_title),d.attr("alt",n.image_alt),n.image_srcset&&d.attr("srcset",n.image_srcset),n.image_sizes&&d.attr("sizes",n.image_sizes),o.tc_set_attr("title",n.image_title),o.tc_set_attr("alt",n.image_alt),o.tc_set_attr("data-large-image",n.image_link),o.data.wc27_zoom_target&&(o.data.wc27_zoom_target.tc_set_attr("data-thumb",n.image_link),m.find(".flex-control-nav li:eq(0) img").tc_set_attr("src",n.image_link)),r.tc_set_attr("href",n.image_link),r.tc_set_attr("title",n.image_caption)):(o.tc_reset_attr("title"),o.tc_reset_attr("alt"),o.tc_reset_attr("data-large-image"),o.data.wc27_zoom_target&&(o.data.wc27_zoom_target.tc_reset_attr("data-thumb"),m.find(".flex-control-nav li:eq(0) img").tc_reset_attr("src")),r.tc_reset_attr("href"),r.tc_reset_attr("title"))},a.fn.tm_find_matching_variations=function(t,e){var i,o,r=[];if(t)for(i=0;i<t.length;i+=1)o=t[i],a.fn.tm_variations_match(o.attributes,e)&&r.push(o);return r},a.fn.tm_variations_match=function(t,e){var a,i,o=!0;return Object.keys(t).forEach(function(r){t.hasOwnProperty(r)&&(a=t[r],i=e[r],void 0!==a&&void 0!==i&&0!==a.length&&0!==i.length&&a!==i&&(o=!1))}),o},a().tclightbox||(a.fn.tclightbox=function(){var t=this;if(0!==t.length)return t.each(function(){var t,e,i,o,r,n,c=a(this);c.is(".tcinit")||(t=c.attr("src")||c.attr("data-original"),i=(e=c.closest("label")).closest(".tmcp-field-wrap").find(".tm-epo-field[id='"+e.attr("for")+"']"),(t=i.attr("data-imagel")||i.attr("data-imagep")||i.attr("data-image")||t)&&(c.addClass("tcinit").before(a.epoAPI.template.html(Bt.templateEngine.tc_lightbox,{})),o=c.prev(),c.wrap("<div class='tc-lightbox-image-wrap'/>"),c.after(o),r=o.find(".tc-lightbox-button"),(n=new Image).src=t,n.onload=function(){r.addClass("tcinit").on("click.tclightbox",function(e){var i,o;a(".tc-closing.tc-lightbox").length>0||(i=a.epoAPI.dom.size(),o=a("<img>").addClass("tc-lightbox-img").attr("src",t).css("maxHeight",i.visibleHeight+"px").css("maxWidth",i.visibleWidth+"px"),a.tcFloatBox({fps:1,ismodal:!1,refresh:"fixed",width:"auto",height:"auto",top:"0%",left:"0%",classname:"flasho tc-lightbox",animateIn:"tc-lightbox-zoomIn",animateOut:"tc-lightbox-zoomOut",data:a.epoAPI.template.html(Bt.templateEngine.tc_lightbox_zoom,{img:o[0].outerHTML}),zIndex:102001,cancelClass:".tc-lightbox-img, .tc-lightbox-button-close",unique:!0}),e.preventDefault())})}))})},Jt.ready(function(){a(".tc-lightbox-image").not(".tm-extra-product-options-variations .radio_image").tclightbox()})),a().tmsectionpoplink||(a.fn.tmsectionpoplink=function(){var t=this;if(0!==t.length)return t.each(function(){var t=a(this),e=t.attr("data-sectionid"),i=Ht.i18n_addition_options,o=t.closest(".cpf-section[data-uniqid='"+e+"']"),r=!1,n=a('<div class="fl-overlay"></div>').css({zIndex:parseInt(t.zIndex,10)-1,opacity:.8}),c=function(){var t=a("#tm-section-pop-up");t.parents().removeClass("noanimated"),n.unbind().remove(),t.after(o),t.remove(),o.find(".tm-section-link").show(),o.find(".tm-section-pop").hide()};t.attr("data-title")&&(i=t.attr("data-title")),t.on("click.tmsectionpoplink",function(t){var e;t.preventDefault(),r=!1,n.appendTo("body").on("click",c),o.before(a.epoAPI.template.html(Bt.templateEngine.tc_section_pop_link,{title:i,close:Ht.i18n_close})),(e=a("#tm-section-pop-up")).find(".float_editbox").prepend(o),o.find(".tm-section-link").hide(),o.find(".tm-section-pop").show(),e.parents().addClass("noanimated"),e.find(".floatbox-cancel").on("click",function(){r||(r=!0,c())}),Gt.trigger("tmlazy"),Gt.trigger("tmsectionpoplink")})})}),a().cpfdependson||(a.fn.cpfdependson=function(t,e,i,o){var r=this,n=0;if(0!==r.length&&"object"==typeof t)return e||(e="show"),i||(i="all"),a.each(t,function(e,i){var r,c;if("object"!=typeof t)return!0;(r=l(i.element))&&r.length>0&&(r.each(function(t,e){var i,r,n=a(e),l="change.cpflogic";c||(i=".tm-product-id-"+n.closest(".tc-extra-product-options").attr("data-product-id"),r="[data-epo-id='"+n.closest(".tc-extra-product-options").attr("data-epo-id")+"']",c=a(".tc-extra-product-options"+i+r)),e&&n.length>0&&(!n.data("tmhaslogicevents")||o)&&(n.is(".tm-epo-variation-element")?(f("found_variation.tmlogic",!1,function(){w(c),Gt.trigger("tm-do-epo-update")}),f("hide_variation.tmlogic",!1,function(){w(c),Gt.trigger("tm-do-epo-update")})):((n.is(":text")||n.is("textarea"))&&(l="change.cpflogic keyup.cpflogic"),n.off(l).on(l,function(){w(c)})),n.data("tmhaslogicevents",1))}),n=parseInt(n,10)+1)}),r.each(function(){var o=a(this),r=!1;switch(o.data("matches",n).data("toggle",e).data("what",i).data("fields",t),e){case"show":r=!1;break;case"hide":r=!0}r?o.removeClass("tc-hidden"):o.addClass("tc-hidden"),o.data("isactive",r)}),r.addClass("iscpfdependson").data("iscpfdependson",1),r.each(function(){a(this).addClass("is-epo-depend")})},a.fn.run_cpfdependson=function(){w()}),a.tcepo={formSubmitEvents:{},oneOptionIsSelected:{},initialActivation:{},lateFieldsPrices:{},errorObject:{}},a.tcepo.tm_init_epo=function(t,e,a,i){zt(t,e,a,i)},Gt.on("tc_manual_init",function(t,e){jt(e)}),Jt.ready(function(){Gt.on("lazyLoadXToncomplete",function(){a(".tm-owl-slider").each(function(){a(this).trigger("refresh.owl.carousel")})}),Gt.on("tc_init_epo_plugin",function(t){Dt()}),Gt.on("tcShowLastError",function(){t.console.log(Ot)}),a.ajaxPrefilter(function(t,e){var i,o,r,n,c,l,d,s,p,m,_,f=!1;if("yes"===Ht.tm_epo_enable_in_shop&&(i=t.url.split("?"))&&i.length>=1&&(i=i[1])){for(o=i.split("&"),r=0;r<o.length;r+=1)(n=o[r].split("=")).length>=1&&n[0]&&n[1]&&"wc-ajax"===n[0]&&"add_to_cart"===n[1]&&(f=!0);f&&(t.originalsuccess=t.success,t.success=function(i){i&&i.error&&i.product_url?((c=a(".ajax_add_to_cart[data-product_id='"+e.data.product_id+"']")).removeClass("added"),c.removeClass("loading")):t.originalsuccess.call(null,i)})}e.data&&(l=e.data,"string"==typeof e.data&&(l=a.epoAPI.util.parseParams(e.data)),d=[],e.url&&e.url.indexOf&&(d=a.epoAPI.util.parseParams(e.url.slice(e.url.indexOf("?")+1))),"quantity"in l&&(l.product_id||l["add-to-cart"]||d.product_id||d["add-to-cart"]||l.tcaddtocart)&&(s=l.product_id||l["add-to-cart"]||d.product_id||d["add-to-cart"]||l.tcaddtocart,1===(p=a(".tc-extra-product-options.tm-product-id-"+s)).length&&(_={tcajax:1,tcaddtocart:s,cpf_product_price:a(".tc-totals-form.tm-product-id-"+s).find(".cpf-product-price").val()},(m=a(".tc-totals-form.tm-product-id-"+s).find(".tc_form_prefix").val())&&(_.tc_form_prefix=m),t.data=t.data+"&"+a.param(a.extend(p.tcSerializeObject(),_),!1))))}),Jt.ajaxSuccess(function(t,e,i){var o,r,n,c,l,d,s,p=Ht.quickview_array||"null",m=Ht.quickview_container||"null",_={};a(".tm-cart-link").tmpoplink(),p=a.epoAPI.util.parseJSON(p),m=a.epoAPI.util.parseJSON(m);for(o in m)m.hasOwnProperty(o)&&(_[m[o][0]]=a(m[o][1]));a.extend(p,_),Object.keys(p).forEach(function(t){l=!1,r=a(p[t]),"woodmart_quick_shop"===t&&"woodmart_quick_shop"===(s=a.epoAPI.util.parseParams(i.url)).action&&(d=a(a.epoAPI.util.escapeSelector(p[t]+".post-"+s.id))).length&&(r=d,l=!0),"woodmart_quick_view"===t&&"woodmart_quick_view"===(s=a.epoAPI.util.parseParams(i.url)).action&&(d=a(a.epoAPI.util.escapeSelector(p[t]+".post-"+s.id))).length&&(r=d,l=!0),"quickview_pro"===t&&(s=i.url.split("/")).length&&(d=a(a.epoAPI.util.escapeSelector(p[t]+" .post-"+s[s.length-1]))).length&&(r=d,l=!0),"wp_food"===t&&(l=!0),"yith_quick_view_plugin"!==t&&r.length&&(r.find(".product").length>0||l)&&(r.removeClass("tc-init"),"wp_food"!==t&&"woodmart_quick_shop"!==t&&"fwoodmart_quick_view"!==t&&"lightboxpro"!==t&&"jckqv_quick_view"!==t&&"yith_quick_view_plugin"!==t&&"theme_flatsome"!==t||(Xt=!0),n=($t=r).find(Bt.epoSelector).attr("data-product-id"),c=$t.find(Bt.epoSelector).attr("data-epo-id"),"woodmart_quick_shop"===t&&r.addClass("has-options"),Bt.getElementFromFieldCache=[],zt($t,!0,n,c),Gt.trigger("tmlazy"),Gt.trigger("tm_epo_loaded_quickview"),a.jMaskGlobals&&$t.find(a.jMaskGlobals.maskElements).each(function(){var t=a(this);t.attr("data-mask")&&t.mask(t.attr("data-mask"))}))})}),Dt(),a(".tm-cart-link").tmpoplink(),Qt.on("updated_checkout",function(){a(".tm-cart-link").tmpoplink()}),Gt.trigger("tmlazy"),Gt.trigger("tm_epo_loaded")}),Jt.ready(function(){Jt.on("click",".quantity .jckqv-qty-spinner, .quantity .ui-spinner-button",function(){a(this).closest(".quantity").find("input.qty").trigger("change")}),Qt.on("sober_quickview_opened",function(){var t,e;t=($t=a("#quick-view-modal")).find(Bt.epoSelector).attr("data-product-id"),e=$t.find(Bt.epoSelector).attr("data-epo-id"),zt($t,!0,t,e),Gt.trigger("tmlazy"),Gt.trigger("tm_epo_loaded_quickview"),a.jMaskGlobals&&$t.find(a.jMaskGlobals.maskElements).each(function(){var t=a(this);t.attr("data-mask")&&t.mask(t.attr("data-mask"))})}),a("#wholesale_form").on("submit",function(){var t=a("form.cart").find(Bt.AddToCartSelector).val(),e=a(Bt.epoSelector+".tm-cart-main[data-product-id='"+t+"']").tcClone(),i=a(".tm-totals-form-main[data-product-id='"+t+"']").tcClone(),o=a("<div class='tm-hidden tm-formepo'></div>");return o.append(e),o.append(i),a(this).append(o),!0}),Jt.on("click","#add_to_quote",function(t){var e,i,o;Ht&&"yes"===Ht.tm_epo_global_enable_validation&&(e=a(this).parents("form"),i=e.find(".tm-epo-counter").val(),o=a(Bt.epoSelector+"[data-epo-id='"+i+"']"),e.length>0&&o.length>0&&!e.tc_validate().form())&&t.stopImmediatePropagation()}),a(".single_add_to_cart_button.paypal_checkout_button").on("click",function(t){var e=a(".cart");e.data("tc_validator")&&e.data("tc_validator").errorList&&t.stopImmediatePropagation()}),a(".wc-product-table").on("init.wcpt",function(e,i){i.$table.find(Bt.epoSelector).addClass("hidden"),i.$table.find("thead tr").append("<th>&nbsp;</th>"),setTimeout(function(){i.$table.find(".cart:not(.cart_group)").each(function(){var e=a(this).find(Bt.epoSelector),i=e.closest("tr");a("<td class='wc-product-table-epo'></td>").appendTo(i).append(e),a(t).trigger("tc_manual_init",e),e.removeClass("hidden")})},500)})}))}(window,document,window.jQuery);